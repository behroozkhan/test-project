(this.webpackJsonpawesomegridlayout=this.webpackJsonpawesomegridlayout||[]).push([[0],{122:function(e,t,n){},125:function(e,t,n){},170:function(e,t,n){},19:function(e,t,n){},226:function(e,t,n){},227:function(e,t,n){e.exports=n.p+"static/media/plus.4ffb5b5d.svg"},229:function(e,t,n){},232:function(e,t,n){},249:function(e,t,n){e.exports=n(659)},254:function(e,t,n){},290:function(e,t,n){e.exports=n.p+"static/media/align-left.0a5b083d.svg"},291:function(e,t,n){e.exports=n.p+"static/media/align-center.c06baa72.svg"},292:function(e,t,n){e.exports=n.p+"static/media/align-right.47dacf61.svg"},293:function(e,t,n){e.exports=n.p+"static/media/align-top.a4e81be5.svg"},294:function(e,t,n){e.exports=n.p+"static/media/align-middle.18bded08.svg"},295:function(e,t,n){e.exports=n.p+"static/media/align-bottom.b15149df.svg"},301:function(e,t,n){e.exports=n.p+"static/media/close.ebf2f3f4.svg"},47:function(e,t,n){},568:function(e,t,n){e.exports=n.p+"static/media/chain.91ca2215.svg"},569:function(e,t,n){e.exports=n.p+"static/media/unlink.91af3919.svg"},570:function(e,t,n){},573:function(e,t,n){e.exports=n.p+"static/media/minimize.d1b14794.svg"},574:function(e,t,n){e.exports=n.p+"static/media/maximize.c16a073e.svg"},656:function(e,t,n){e.exports=n.p+"static/media/more.7e1c1c4d.svg"},657:function(e,t,n){e.exports=n.p+"static/media/question.910508a9.svg"},658:function(e,t,n){},659:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(10),o=n.n(i);n(254),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=n(2),c=n(3),l=n(7),p=n(5),d=n(4),u=(n(234),n(28)),g=function(e,t){if(e&&e.initialized)return e;e||(e={});var n=m(e);for(var a in e)delete e[a];var r=h(t);if(n.bpData)for(var i in r.bpData)if(z(i,t))for(var o in n.bpData)r.bpData[i][o]=m(n.bpData[o]);for(var s in n)n.hasOwnProperty(s)&&"bpData"!==s&&(r[s]=n[s]);for(var c in r)e[c]=r[c];return e},h=function(e){var t={x:"50%",y:"50%",w:"100%",h:"100%",minW:void 0,maxW:void 0,minH:void 0,maxH:void 0,constraints:{left:void 0,top:void 0,right:void 0,bottom:void 0},margin:{all:void 0,left:void 0,top:void 0,right:void 0,bottom:void 0},units:{x:"%",y:"%",w:"%",h:"%"},scrollType:"vertical",absolute:!0,fix:!1,autoHeight:!1,autoWidth:!1,overflowData:{state:"hide",scroll:"vertical"}},n={initialized:!0,resizable:!0,draggable:!0,hasOwnBreakPoints:!1,isContainer:!1,autoDock:!0,bpData:{}},a=k(e);return n.bpData[a[0].name]=m(t),n},m=function e(t){if(t instanceof Array){for(var n=[],a=0,r=t.length;a<r;a++)n[a]=e(t[a]);return n}if(t instanceof Object){if(null==t)return t;var i={};for(var o in t)t.hasOwnProperty(o)&&(i[o]=e(t[o]));return i}return t},f=function(e,t){if(e===t)return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var r=0;r<n.length;r++)if(!t.hasOwnProperty(n[r])||e[n[r]]!==t[n[r]])return!1;return!0};function v(e,t){var n,a,r=arguments,i=this;return function(o){a||(e.apply(i,r),a=!0,setTimeout((function(e){a=!1}),t)),clearTimeout(n),n=setTimeout((function(t){n=null,e.apply(i,r)}),t)}}var S=function(e,t){return e||(e={}),Object.assign(e,t||{})};function y(e){var t="";for(var n in e)t+=n.replace(/([A-Z])/g,(function(e){return"-".concat(e[0].toLowerCase())}))+": "+e[n]+";\n";return t}function b(e,t,n){var a="\n            .".concat(n," {").concat(y(t),"}\n            ");e.innerHTML="",e.styleSheet?e.styleSheet.cssText=a:e.appendChild(document.createTextNode(a))}function C(e,t,n){var a="\n            .".concat(n," {").concat(y(e),"}\n            "),r=document.createElement("style");r.setAttribute("id",t),r.type="text/css",r.styleSheet?r.styleSheet.cssText=a:r.appendChild(document.createTextNode(a)),document.getElementsByTagName("head")[0].appendChild(r)}function O(e,t,n){var a=e[t];e[t]=e[n],e[n]=a}var I=n(109),D=n.n(I),w=function(){function e(t,n,a,r){var i=this;Object(s.a)(this,e),this.updateBreakpoint=function(e,t,n){var a=i.breakpoints.find((function(t){return t.name===e}));if(a)return a.end=n,void(i.getUpperBreakPoint(e)&&(i.getUpperBreakPoint(e).start=n+1));t++,a={name:e,start:t,end:n};for(var r=i.getSortedBreakPoints(),o=0;o<r.length;o++)if(a.start===r[o].start+1&&a.start++,a.start>=r[o].start){a.end=r[o].end,r[o].end=a.start-1;break}i.breakpoints.push(a)},this.deleteBreakpoint=function(e){for(var t=i.getSortedBreakPoints(),n=0;n<t.length;n++)if(e===t[n].name){var a=t[n-1];if(a){a.start=t[n].start;break}return}delete i.breakpoints[e]},this.fromClone=function(e){return i.breakpoints=e.breakpoints,i.windowInnerWidth=e.windowInnerWidth,i.lastWidth=e.lastWidth,i.editorData=e.editorData,i},this.copyDesign=function(e){i.cloneDesignDatas=m(e)},this.getCopyDesign=function(){return i.cloneDesignDatas},this.pasteDesign=function(e){i.getCopyDesign()&&i.cloneDesignDatas.forEach((function(t,n){var a=t.bpName,r=t.data;e.props.griddata.bpData[a]=m(r)}))},this.getWindowWidth=function(){return i.lastWidth},this.getWindowHeight=function(){return.8*window.innerHeight},this.setWindowWidth=function(e){i.lastWidth=e},this.getBpData=function(e){return i.breakpoints.find((function(t){return t.name===e}))},this.getDevicePixelRatio=function(){return window.devicePixelRatio},this.onDevicePixelRatioChange=function(){var e=i.devicePixelRatio!==window.devicePixelRatio;i.devicePixelRatio=window.devicePixelRatio,e&&i.onZoomLevelChange(i.getDevicePixelRatio())},this.onWindowResize=v((function(){var e=window.innerWidth-i.editorData.inspectorPinned?i.editorData.inspectorWidth:0,t=i.checkBreakPointChange(e);i.setWindowWidth(e),t.changed&&i.onBreakpointChange(e,t.currentBreakpointName,i.getDevicePixelRatio())}),100),this.checkBreakPointChange=function(e){var t=i.current(i.getWindowWidth()),n=i.current(e);return{changed:t!==n,currentBreakpointName:n}},this.current=function(e){e||(e=i.getWindowWidth());for(var t=i.getSortedBreakPoints(),n=0;n<t.length;n++)if(i.getSize(e)>=t[n].start)return t[n].name;return t[t.length-1].name},this.getUpperBreakPoint=function(e){for(var t=i.getSortedBreakPoints(),n=0;n<t.length;n++)if(e===t[n].name)return t[n-1]&&t[n-1].name},this.setData=function(e,t,n,a){var r=t.split("."),o=a||i.current(i.getSize());if(e.bpData[o]||(e.bpData[o]={}),1===r.length)void 0!==n?e.bpData[o][r[0]]=n:delete e.bpData[o][r[0]];else{void 0===e.bpData[o][r[0]]&&(e.bpData[o][r[0]]={});for(var s=e.bpData[o][r[0]],c=1;c<r.length;c++)c===r.length-1?void 0!==n?s[r[c]]=n:delete s[r[c]]:(void 0===s[r[c]]&&(s[r[c]]={}),s=s[r[c]])}},this.getFromData=function(e,t,n){var a,r=t.split("."),o=n||i.current(i.getSize());if("style"===t&&"comp_Section_1"===e.id&&console.log("bpData",e.bpData[o]),e.bpData[o]&&void 0!==e.bpData[o][r[0]]?a=e.bpData[o][r[0]]:(a=i.findFirstUpperBreakPointParam(e,r[0],i.getSize()),"style"===t&&"comp_Section_1"===e.id&&console.log("Here",a)),void 0!==a)return 1===r.length||r.slice(1).forEach((function(e){a&&(a=a[e])})),a},this.getHighestBpName=function(){return i.getSortedBreakPoints()[0].name},this.getCompositeFromData=function(e,t){for(var n=t.split("."),a=[],r=i.getSortedBreakPoints(i.getWindowWidth()),o=function(t){var i=r[t].name,o=void 0;if(e.bpData[i]&&void 0!==e.bpData[i][n[0]]&&(o=e.bpData[i][n[0]]),void 0===o)return"continue";1===n.length&&a.push(o),n.slice(1).forEach((function(e){o&&(o=o[e])})),a.push(o)},s=r.length-1;s>=0;s--)o(s);if(!(a[0]instanceof Object))return a[0];for(var c={},l=a.length-1;l>=0;l--)c=D()(c,a[l]);return c},this.hasDataInBreakPoint=function(e,t,n){var a,r=t.split("."),o=n||i.current(i.getSize());if(e.bpData[o]&&void 0!==e.bpData[o][r[0]]&&(a=e.bpData[o][r[0]]),void 0!==a)return 1===r.length||r.slice(1).forEach((function(e){a&&(a=a[e])})),a},this.findFirstUpperBreakPointParam=function(e,t,n){for(var a=i.getSortedBreakPoints(),r=a.length-1;r>=0;r--)if(i.getSize(n)<=a[r].end&&e.bpData[a[r].name]&&void 0!==e.bpData[a[r].name][t])return e.bpData[a[r].name][t]},this.findFirstUpperBreakPointName=function(e,t,n){for(var a=i.getSortedBreakPoints(),r=a.length-1;r>=0;r--)if(i.getSize(n)<=a[r].end&&e.bpData[a[r].name])return a[r].name},this.getMinWidth=function(){var e=i.getSortedBreakPoints();return e[e.length-1].start},this.getSortedBreakPoints=function(e){var t=i.breakpoints;return e&&(t=i.breakpoints.filter((function(t){return t.end>=e}))),t.sort((function(e,t){return e.start>t.start?-1:e.start===t.start?0:1}))},this.exist=function(e){return i.breakpoints.find((function(t){return t.name===e}))},this.getDefault=function(){return[{name:"laptop",start:1001,end:1/0},{name:"tablet",start:751,end:1e3},{name:"mobile",start:320,end:750}]},this.getSize=function(e){return e||i.getWindowWidth()},t||(t=this.getDefault()),this.breakpoints=t,this.editorData=n,this.windowInnerWidth=n&&n.innerWidth,this.lastWidth=n&&n.innerWidth,this.onBreakpointChange=a||function(){},this.onZoomLevelChange=r||function(){},a&&window.addEventListener("resize",this.onWindowResize),r&&window.addEventListener("resize",this.onDevicePixelRatioChange)}return Object(c.a)(e,[{key:"dispose",value:function(){window.removeEventListener("resize",this.onWindowResize)}}]),e}(),R=function(e,t,n,a,r){(new w).fromClone(a).setData(e,t,n,r)},x=function(e,t,n,a){return(new w).fromClone(n).getFromData(e,t,a)},j=function(e,t,n){return(new w).fromClone(n).getCompositeFromData(e,t)},k=function(e){return new w(e.breakpoints,e.windowInnerWidth).getSortedBreakPoints()},z=function(e,t){return new w(t.breakpoints,t.windowInnerWidth).exist(e)},E=function e(){var t=this;Object(s.a)(this,e),this.setDragging=function(e){t.draggingItem=e},this.getDragging=function(){return t.draggingItem},this.isDraggingItemFixed=function(){return!!t.draggingItem&&"page_fixed_holder"===t.draggingItem.state.portalNodeId},this.setDraggingStop=function(){return t.draggingItem&&t.mouseOver&&t.draggingItem.props.parent!==t.mouseOver&&!t.mouseOver.getParentsId().includes(t.draggingItem.props.id)&&!t.isDraggingItemFixed()?(t.mouseOver.prepareRects(),t.dropItem(t.draggingItem,t.draggingItem.props.parent,t.mouseOver),t.draggingItem=void 0,!0):(t.draggingItem=void 0,!1)},this.dropItem=function(e,n,a,r,i,o){e.toggleHelpLines(),n.onChildLeave(e),a.onChildDrop(e,void 0,void 0,(function(s){if(r&&r(s),!i){var c=e.props.id,l=(e.dragData?e.dragData.firstPos.left:s.getSize(!1).left)-n.getSize(!1).left,p=(e.dragData?e.dragData.firstPos.top:s.getSize(!1).top)-n.getSize(!1).top,d=m(n.getSize(!1)),u=s.getSize(!1).left-a.getSize(!1).left,g=s.getSize(!1).top-a.getSize(!1).top,h=m(a.getSize(!1)),f=s.getSize(!1).width,v=s.getSize(!1).height,S=n.props.id,y=a.props.id;e.props.undoredo.add((function(e){e.getItem(c).onSelect(!0),t.setMouseOver(e.getItem(y)),t.dropItem(e.getItem(c),e.getItem(S),e.getItem(y),(function(t){setTimeout((function(){e.getItem(c).setPosition(!1,u,g,void 0,void 0,f,v,h,!0)}),0)}),!0)}),(function(e){e.getItem(c).onSelect(!0),t.setMouseOver(e.getItem(S)),t.dropItem(e.getItem(c),e.getItem(y),e.getItem(S),(function(t){setTimeout((function(){e.getItem(c).setPosition(!1,l,p,void 0,void 0,f,v,d,!0)}),0)}),!0)}),o)}}))},this.setMouseOver=function(e,n,a){t.isDraggingItemFixed()||(t.mouseOver&&(t.mouseOver.getFromTempData("selected")||t.mouseOver!==e&&t.mouseOver.toggleGridLines(!1)),t.mouseOver=e,console.log("HEEEEEEEEEEEREEEEE",e.props.id),t.draggingItem&&t.draggingItem.toggleHelpLines(),e.toggleGridLines(!0,(function(){t.draggingItem&&t.draggingItem.toggleHelpLines(e),a&&a(t.draggingItem,t.mouseOver)}),"B"))},this.setMouseOverForNonDragging=function(e){t.mouseOverNonDragging=e},this.getMouseOverForNonDragging=function(){return t.mouseOverNonDragging}},M=(n(122),function e(){var t=this;Object(s.a)(this,e),window.addEventListener("keydown",(function(e){var n=(e=e||window.event).which||e.keyCode;t.ctrl=e.ctrlKey?e.ctrlKey:17===n})),window.addEventListener("keyup",(function(e){17===((e=e||window.event).which||e.keyCode)&&(t.ctrl=!1)})),this.ctrl=!1,this.shift=!1,this.alt=!1}),N=n(9),L=n(676),P=n(162),A=n.n(P),B=(n(170),n(84),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).saveState=function(){var t=e.props.allChildren;e.allChildId=Object.keys(t),e.allChildIndex=Object.values(t).map((function(e){return e.zIndex}))},e.getSorted=function(e){return e.sort((function(e,t){return e.zIndex>t.zIndex?1:e.zIndex<t.zIndex?-1:0}))},e.getChildren=function(t,n){return e.props.getChildrenOverride?e.props.getChildrenOverride(e.getSorted(Object.values(t)),n):e.getSorted(Object.values(t)).map((function(e){return e.child}))},e}return Object(c.a)(n,[{key:"shouldComponentUpdate",value:function(e,t,n){return!f(this.allChildId,Object.keys(e.allChildren))||!f(this.allChildIndex.toString(),Object.values(e.allChildren).map((function(e){return e.zIndex}))).toString()}},{key:"render",value:function(){this.saveState();var e=this.props,t=e.allChildren,n=e.agl;return this.getChildren(t,n)}}]),n}(r.a.Component)),T=n(13),H=n.n(T),G=(n(19),n(85),n(43)),F=n.n(G),W=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props.item;return r.a.createElement("div",{className:"InspectorOptionRoot"},r.a.createElement("div",{className:"InspectorBreadcrumbsParentsRoot"},e.getParentsId().slice(0,2).reverse().map((function(t){var n=e.props.idMan.getItem(t);return r.a.createElement(F.a,{className:"InspectorBreadcrumbsParentsButton",onClick:function(e){n.onSelect(!0)},key:n.props.id},n.props.tagName+" >")}))),r.a.createElement("span",{className:"InspectorBreadcrumbsTagName"},e.props.tagName))}}]),n}(r.a.Component),U=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(F.a,{"aria-label":this.props["aria-label"]||"aria-label",onClick:this.props.onClick,style:Object(N.a)(Object(N.a)({},{marginLeft:4,borderRadius:4}),this.props.buttonBaseStyle),className:this.props.className},r.a.createElement("div",{style:Object(N.a)(Object(N.a)({},{display:"flex",justifyContent:"center",alignItems:"center",padding:8}),this.props.imageContainerStyle)},this.props.icon,this.props.children))}}]),n}(r.a.Component),Y=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var i;return Object(s.a)(this,a),(i=t.call(this,e)).getButtonsData=function(){return[{name:"Align to left",horizontal:"start",img:r.a.createElement("img",{draggable:!1,width:16,height:16,src:n(290)})},{name:"Align to center",horizontal:"center",img:r.a.createElement("img",{draggable:!1,width:16,height:16,src:n(291)})},{name:"Align to right",horizontal:"end",img:r.a.createElement("img",{draggable:!1,width:16,height:16,src:n(292)})},{name:"Align to top",vertical:"start",img:r.a.createElement("img",{draggable:!1,width:16,height:16,src:n(293)})},{name:"Align to middle",vertical:"center",img:r.a.createElement("img",{draggable:!1,width:16,height:16,src:n(294)})},{name:"Align to bottom",vertical:"end",img:r.a.createElement("img",{draggable:!1,width:16,height:16,src:n(295)})}]},i.state={},i}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this.props.item;return r.a.createElement("div",{className:"InspectorOptionRoot"},r.a.createElement("span",{className:"InspectorOptionTitle"},"Alignment"),r.a.createElement("div",{className:"InspectorAlignsRoot"},this.getButtonsData().map((function(t,n){return r.a.createElement(U,{key:t.name,buttonBaseStyle:{marginLeft:0},imageContainerStyle:{padding:6},onClick:function(n){!function e(t,n,a,r){if(!r){var i=t.props.id,o=m(t.getFromData("gridItemStyle"));t.props.undoredo.add((function(t){e(t.getItem(i),n,a,!0)}),(function(e){e.getItem(i).setGridItemStyle(o),e.getItem(i).props.select.onScrollItem()}))}if(!t.props.parent)return;var s=t.getFromData("gridItemStyle");n&&(s.alignSelf=n,s.marginTop="0px",s.marginBottom="0px");a&&(s.justifySelf=a,s.marginLeft="0px",s.marginRight="0px");var c=t.getBaseDocks();t.setDocks(c.top,c.left,c.bottom,c.right,t.getFromTempData("autoDock"),void 0,!0),t.setGridItemStyle(s),t.props.select.onScrollItem()}(e,t.vertical,t.horizontal)},className:"InspectorAlignsButtons"},t.img)}))))}}]),a}(r.a.Component),X=(n(47),n(235)),V=n.n(X),_=n(236),K=n.n(_),Q=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).inputFilter=function(e,t){var n=!1;try{e=parseFloat(e),n=!0}catch(r){}return n?(e=Math.min(a.props.max,e),e=Math.max(a.props.min,e)):""===e?"0":t},a.onChange=function(e){var t=e.target.value;t.endsWith(".")&&(t+="0"),t=a.inputFilter(t,a.getValue(a.props.value)),a.props.onChange(t)},a.onShowUnits=function(e){console.log("onShowUnits",e.currentTarget),a.setState({anchorEl:e.currentTarget})},a.getValue=function(e){return e?e.includes("%")?Math.round(100*parseFloat(e.replace("%","")))/100:e.includes("px")?Math.round(100*parseFloat(e.replace("px","")))/100:e.includes("vh")?Math.round(100*parseFloat(e.replace("vh","")))/100:e.includes("vw")?Math.round(100*parseFloat(e.replace("vw","")))/100:e:"value"},a.state={showUnits:!1},a.unitIconButton=r.a.createRef(),a}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=H()("NumberInputWithUnit",this.props.className);return r.a.createElement("div",{className:t},r.a.createElement("input",{style:{textAlign:"left",width:64,height:20},className:"NumberInput",value:["%","px","vw","vh"].includes(this.props.unit)?this.getValue(this.props.value)||0:"",onChange:this.onChange,type:"text",disabled:!["%","px","vw","vh"].includes(this.props.unit)}),r.a.createElement(U,{ref:this.unitIconButton,className:"InputUnitButton",buttonBaseStyle:{marginLeft:0},imageContainerStyle:{padding:6},onClick:this.onShowUnits},r.a.createElement("span",{style:{color:"#0a108b"}},this.props.unit)),r.a.createElement(V.a,{style:{zIndex:99999999999},anchorEl:this.state.anchorEl,open:void 0!==this.state.anchorEl,onClose:function(t){e.setState({anchorEl:void 0})},MenuListProps:{style:{padding:0}}},this.props.units.map((function(t,n){return r.a.createElement(K.a,{dense:!0,key:n,onClick:function(n){e.props.onUnitChange&&e.props.onUnitChange(t),e.setState({anchorEl:void 0})}},r.a.createElement("span",{style:{color:"#0a108b"}},t))}))))}}]),n}(r.a.Component),Z=n(79),J=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onMouseDown=function(e){a.rect=a.rootDivRef.current.getBoundingClientRect(),window.addEventListener("pointermove",a.onMouseMove),window.addEventListener("pointerup",a.onMouseUp);var t=e.clientX,n=e.clientY,r=t-(a.rect.left+a.rect.width/2),i=n-(a.rect.top+a.rect.height/2),o=180*-Math.atan2(r,i)/Math.PI;o<0&&(o+=360),a.props.onChange(o)},a.onMouseMove=function(e){var t=e.clientX,n=e.clientY,r=t-(a.rect.left+a.rect.width/2),i=n-(a.rect.top+a.rect.height/2),o=180*-Math.atan2(r,i)/Math.PI;o<0&&(o+=360),a.props.onChange(o)},a.onMouseUp=function(e){window.removeEventListener("pointermove",a.onMouseMove),window.removeEventListener("pointerup",a.onMouseUp)},a.rootDivRef=r.a.createRef(),a}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"CircularSliderRoot ".concat(this.props.className),style:{transform:"rotate(".concat(this.props.value,"deg)")},onMouseDown:this.onMouseDown,ref:this.rootDivRef},r.a.createElement("div",{className:"CircularSliderBg",style:{width:this.props.width||90,height:this.props.width||90}},r.a.createElement("div",{className:"CircularSliderLine"}),r.a.createElement("div",{className:"CircularSliderCenter"}),r.a.createElement("div",{className:"CircularSliderKnob"})))}}]),n}(r.a.Component),q=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).inputFilter=function(t,n){return/^\d+$/.test(t)?(t=parseFloat(t).toFixed(0),t=Math.min(e.props.max,t),t=Math.max(e.props.min,t)):""===t?"0":n},e.onChange=function(t){var n=e.inputFilter(t.target.value,e.props.value);e.props.onChange(n)},e}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("input",{className:"NumberInput",value:this.props.value||0,onChange:this.onChange,type:"text"})}}]),n}(r.a.Component),$=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onItemPropsChange=function(){a.forceUpdate()},a.onChange=function(e,t){var n=a.props.item,r=n.getCompositeFromData("style")[e];["%","px"].includes(a.getUnit(r))&&(t="".concat(t).concat(a.getUnit(r))),St(e,t,n,!0),n.props.select.onScrollItem()},a.onUnitChange=function(e,t){var n=a.props.item;St(e,"px"===t?"".concat(n.getSize(!1).width,"px"):"%"===t?"".concat(n.getSize(!1).width/n.props.parent.getSize(!1).width*100,"%"):"vh"===t?"".concat(n.getSize(!1).width/n.props.breakpointmanager.getWindowHeight()*100,"vh"):"vw"===t?"".concat(n.getSize(!1).width/n.props.breakpointmanager.getWindowWidth()*100,"vw"):"none"===t?void 0:t,n,!0)},a.getUnit=function(e){return e?e.includes("%")?"%":e.includes("px")?"px":e.includes("vw")?"vw":e.includes("vh")?"vh":e:"none"},a.state={},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.props.item.onPropsChange.removeListener(this.onItemPropsChange)}},{key:"shouldComponentUpdate",value:function(e,t,n){return e.item.onPropsChange.addListener(this.onItemPropsChange),!0}},{key:"render",value:function(){var e=this,t=this.props.item.getCompositeFromData("style");return r.a.createElement("div",{className:"InspectorOptionRoot"},r.a.createElement("span",{className:"InspectorOptionTitle"},"Size"),r.a.createElement("div",{className:"InspectorSizeRow"},r.a.createElement("div",{className:"InspectorSizeItem",style:{marginRight:12}},r.a.createElement("span",{className:"InspectorSizeItemTitle"},"Width"),r.a.createElement(Q,{className:"AngleInput",min:0,max:1/0,value:t.width,onChange:function(t){e.onChange("width",t)},onUnitChange:function(t){e.onUnitChange("width",t)},units:this.props.widthUnits,unit:this.getUnit(t.width)})),r.a.createElement("div",{className:"InspectorSizeItem"},r.a.createElement("span",{className:"InspectorSizeItemTitle"},"Height"),r.a.createElement(Q,{className:"InspectorSizeItemInput",min:0,max:1/0,value:t.height,onChange:function(t){e.onChange("height",t)},onUnitChange:function(t){e.onUnitChange("height",t)},units:this.props.heightUnits,unit:this.getUnit(t.height)}))),r.a.createElement("div",{className:"InspectorSizeRow"},r.a.createElement("div",{className:"InspectorSizeItem",style:{marginRight:12}},r.a.createElement("span",{className:"InspectorSizeItemTitle"},"Min W"),r.a.createElement(Q,{className:"AngleInput",min:0,max:1/0,value:t.minWidth,onChange:function(t){e.onChange("minWidth",t)},onUnitChange:function(t){e.onUnitChange("minWidth",t)},units:this.props.minWidthUnits,unit:this.getUnit(t.minWidth)})),r.a.createElement("div",{className:"InspectorSizeItem"},r.a.createElement("span",{className:"InspectorSizeItemTitle"},"Min H"),r.a.createElement(Q,{className:"InspectorSizeItemInput",min:0,max:1/0,value:t.minHeight,onChange:function(t){e.onChange("minHeight",t)},onUnitChange:function(t){e.onUnitChange("minHeight",t)},units:this.props.minHeightUnits,unit:this.getUnit(t.minHeight)}))),r.a.createElement("div",{className:"InspectorSizeRow",style:{marginBottom:0}},r.a.createElement("div",{className:"InspectorSizeItem",style:{marginRight:12}},r.a.createElement("span",{className:"InspectorSizeItemTitle"},"Max W"),r.a.createElement(Q,{className:"AngleInput",min:0,max:1/0,value:t.maxWidth,onChange:function(t){e.onChange("maxWidth",t)},onUnitChange:function(t){e.onUnitChange("maxWidth",t)},units:this.props.maxWidthUnits,unit:this.getUnit(t.maxWidth)})),r.a.createElement("div",{className:"InspectorSizeItem"},r.a.createElement("span",{className:"InspectorSizeItemTitle"},"Max H"),r.a.createElement(Q,{className:"InspectorSizeItemInput",min:0,max:1/0,value:t.maxHeight,onChange:function(t){e.onChange("maxHeight",t)},onUnitChange:function(t){e.onUnitChange("maxHeight",t)},units:this.props.maxHeightUnits,unit:this.getUnit(t.maxHeight)}))))}}]),n}(r.a.Component),ee=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).resolveDesignData=function(){},a.getData=function(){var e=a.getDefaultData&&a.getDefaultData(),t=e.bpData;if(e=S(e,m(a.props.data)),t){var n=e.bpData;e.bpData=S(t,n)}return e},a.getAgl=function(){return a.props.aglRef.current},a.onDesignChange=function(e,t){R(a.props.griddata,e,t,a.props.breakpointmanager),a.updateDesign(bt(Object(l.a)(a)))},a.getInspector=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(W,{item:a.getAgl()}),r.a.createElement(Y,{item:a.getAgl()}),r.a.createElement($,{item:a.getAgl(),widthUnits:["auto","%","px","vh","vw"],heightUnits:["auto","%","px","vh","vw"],minWidthUnits:["%","px","vh","vw","none"],minHeightUnits:["%","px","vh","vw","none"],maxWidthUnits:["%","px","vh","vw","none"],maxHeightUnits:["%","px","vh","vw","none"]}))},a}return n}(r.a.Component),te=(n(125),n(107)),ne=n.n(te),ae=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onClick=function(t){var n=e.props.menu;e.props.select.updateMenu("function"===typeof n?n(t):n)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return r.a.createElement(U,{onClick:this.onClick},this.props.icon,this.props.children)}}]),n}(r.a.Component),re=(n(73),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"MenuBaseIndexTitle"},r.a.createElement(F.a,{disableRipple:!this.props.onIndexClick,onClick:function(t){e.props.onIndexClick&&e.props.onIndexClick(t,e.props.title,e.props.index)}},r.a.createElement("span",null,this.props.title)))}}]),n}(r.a.Component)),ie=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).close=function(){n.props.select.updateMenu()},n.onIndexClick=function(e,t,a){n.setState({selectedIndexNo:a})},n.getDefaultPos=function(e){return{y:Math.min(e.y,window.innerHeight-398),x:Math.min(e.x,window.innerWidth-300)}},n.state={},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(ne.a,{handle:".MenuBaseHeaderTitle",bounds:"parent",defaultPosition:this.getDefaultPos(this.props.defaultPosition)},r.a.createElement("div",{className:"MenuBaseRoot",style:this.props.styles.root},r.a.createElement("div",{className:"MenuBaseHeaderContainer"},r.a.createElement("span",{className:"MenuBaseHeaderTitle"},this.props.menuTitle||"Menu Title"),r.a.createElement(U,{onClick:this.close},r.a.createElement("img",{draggable:!1,width:16,height:16,src:n(301)}))),r.a.createElement("div",{className:"MenuBaseBodyContainer"},r.a.createElement("div",{className:"MenuBaseBodyIndex"},this.props.index.map((function(t,n){return r.a.createElement("div",{key:n,style:{backgroundColor:e.state.selectedIndexNo===n&&"rgba(115, 115, 115, 0.36)"}},r.a.createElement(U,{key:t.key,onClick:function(a){e.onIndexClick(a,t.key,n)},buttonBaseStyle:{marginLeft:0}},t.icon))}))),r.a.createElement("div",{className:"MenuBaseBodyOptions"},void 0!==this.state.selectedIndexNo&&r.a.createElement(re,{index:this.state.selectedIndexNo,key:this.props.options[this.state.selectedIndexNo].key,title:this.props.options[this.state.selectedIndexNo].key}),void 0!==this.state.selectedIndexNo&&this.props.options[this.state.selectedIndexNo].render,void 0===this.state.selectedIndexNo&&this.props.options.map((function(t,n){return r.a.createElement(re,{index:n,key:t.key,title:t.key,onIndexClick:e.onIndexClick})}))))))}}]),a}(r.a.Component);ie.defaultProps={styles:{}};n(74);var oe=n(160),se=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(Z.a,Object.assign({},this.props,{min:this.props.min,max:this.props.max,value:this.props.value,onChange:this.props.onChange}))}}]),n}(r.a.Component),ce=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){e.props.onDesignChange&&e.props.onDesignChange(e.props.designKey,t),e.props.onChange&&e.props.onChange(t)},e}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{className:"BorderWidthSlider",style:{marginRight:16},min:this.props.min,max:this.props.max,value:this.props.value,onChange:this.onChange}),r.a.createElement(q,{className:"BorderWidthInput",min:this.props.min,max:this.props.max,value:this.props.value,onChange:this.onChange}))}}]),n}(r.a.Component),le=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).getRgbA=function(e){if(e){var t;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(e))return 3===(t=e.substring(1).split("")).length&&(t=[t[0],t[0],t[1],t[1],t[2],t[2]]),{r:(t="0x"+t.join(""))>>16&255,g:t>>8&255,b:255&t,a:1};if(e.startsWith("rgba")){var n,a=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),r=(a&&a[4]||"").trim();return n=""!==r?r:1,{r:a[1],g:a[2],b:a[3],a:n}}return e}},a.handleClick=function(){a.setState({displayColorPicker:!a.state.displayColorPicker})},a.handleClose=function(){a.setState({displayColorPicker:!1})},a.handleChangeComplete=function(e){console.log("handleChangeComplete",e);var t={r:e.rgb.r,g:e.rgb.g,b:e.rgb.b,a:(a.state.alpha||100)/100};a.setState({color:e.rgb,alpha:a.state.alpha||100}),t="rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")"),a.props.onDesignChange(a.props.designKey,t)},a.handleAlphaChange=function(e){a.setState({alpha:e}),console.log("handleAlphaChange",a.state.color);var t={r:a.state.color.r,g:a.state.color.g,b:a.state.color.b,a:e/100};t="rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(t.a,")"),a.props.onDesignChange(a.props.designKey,t)},a.state={color:a.getRgbA(e.color)||{r:0,g:0,b:0,a:0},alpha:a.getRgbA(e.color)&&100*a.getRgbA(e.color).a},console.log(a.state.color,e.color),a}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"CommonMenuRoot ColorPickerRoot"},r.a.createElement(F.a,{style:{background:"url('/static/icon/transparency.png')"},className:"ColorPickerRGB",onClick:this.handleClick},r.a.createElement("div",{style:{background:"rgba(".concat(this.state.color.r,", ").concat(this.state.color.g,", ").concat(this.state.color.b,", ").concat(this.state.alpha/100,")")}})),r.a.createElement("div",{className:"ColorPickerAlpha"},r.a.createElement(ce,{min:0,max:100,value:this.state.alpha||0,onChange:this.handleAlphaChange})),this.state.displayColorPicker&&r.a.createElement("div",{style:{position:"absolute",zIndex:"2"}},r.a.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:this.handleClose}),r.a.createElement(oe.SketchPicker,{color:this.state.color,onChangeComplete:this.handleChangeComplete,disableAlpha:!0,width:224})))}}]),n}(r.a.Component),pe=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"MenuOptionSection"},r.a.createElement("p",{className:"MenuOptionSectionTitle"},"Background"),r.a.createElement(le,{color:this.props.color,designKey:this.props.designKey,onDesignChange:this.props.onDesignChange}))}}]),n}(r.a.Component),de=(n(567),n(226),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"Divider"})}}]),n}(r.a.Component)),ue=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onChange=function(e){a.setState({value:e}),a.props.onDesignChange&&a.props.onDesignChange(a.props.designKey,e),a.props.onChange&&a.props.onChange(e)},a.state={value:a.props.value||0},a}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(se,{className:"BorderWidthSlider",style:{marginRight:16},min:this.props.min,max:this.props.max,value:this.state.value,onChange:this.onChange}),r.a.createElement(q,{className:"BorderWidthInput",min:this.props.min,max:this.props.max,value:this.state.value,onChange:this.onChange}))}}]),n}(r.a.Component),ge=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"MenuOptionSection"},r.a.createElement("p",{className:"MenuOptionSectionTitle"},"Opacity & Color"),r.a.createElement(le,{color:this.props.border.color,designKey:"".concat(this.props.designKey,".color"),onDesignChange:this.props.onDesignChange})),r.a.createElement(de,null),r.a.createElement("div",{className:"MenuOptionSection"},r.a.createElement("p",{className:"MenuOptionSectionTitle"},"Width (px)"),r.a.createElement("div",{className:"BorderWidth"},r.a.createElement(ue,{className:"BorderWidthSlider",min:0,max:15,value:this.props.border.width,designKey:"".concat(this.props.designKey,".width"),onDesignChange:this.props.onDesignChange}))))}}]),n}(r.a.Component),he=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).onChange=function(e,t){var a=n.state.radius,r=[t];n.state.link&&(r=["topLeft","topRight","bottomLeft","bottomRight"]),r.forEach((function(t){a[t]=e,n.props.onDesignChange("".concat(n.props.designKey,".").concat(t),e)})),n.setState({radius:a})},n.onLinkClick=function(){n.setState({link:!n.state.link})},n.state={radius:m(e.radius),link:!0},n}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"MenuOptionSection"},r.a.createElement("p",{className:"MenuOptionSectionTitle"},"Radius (px)"),r.a.createElement("div",{className:"CornersRow"},r.a.createElement("div",{className:"CornersRowInput"},r.a.createElement(q,{min:0,max:999,value:this.state.radius.topLeft,onChange:function(t){return e.onChange(t,"topLeft")}})),r.a.createElement("div",{className:"CornersRowInput",style:{direction:"rtl"}},r.a.createElement(q,{min:0,max:999,value:this.state.radius.topRight,onChange:function(t){return e.onChange(t,"topRight")}}))),r.a.createElement("div",{style:{position:"relative"}},r.a.createElement("div",{className:"CornersRow"},r.a.createElement("div",{className:"CornersRowShowTopLeft",style:{borderTopLeftRadius:this.state.radius.topLeft}}),r.a.createElement("div",{className:"CornersRowShowTopRight",style:{borderTopRightRadius:this.state.radius.topRight}})),r.a.createElement("div",{className:"CornersRow"},r.a.createElement("div",{className:"CornersRowShowBottomLeft",style:{borderBottomLeftRadius:this.state.radius.bottomLeft}}),r.a.createElement("div",{className:"CornersRowShowBottomRight",style:{borderBottomRightRadius:this.state.radius.bottomRight}})),r.a.createElement("div",{className:"CornersLink"},r.a.createElement(U,{buttonBaseStyle:{marginLeft:0},onClick:this.onLinkClick},this.state.link&&r.a.createElement("img",{draggable:!1,width:24,height:24,src:n(568)}),!this.state.link&&r.a.createElement("img",{draggable:!1,width:24,height:24,src:n(569)})))),r.a.createElement("div",{className:"CornersRow"},r.a.createElement("div",{className:"CornersRowInput"},r.a.createElement(q,{min:0,max:999,value:this.state.radius.bottomLeft,onChange:function(t){return e.onChange(t,"bottomLeft")}})),r.a.createElement("div",{className:"CornersRowInput",style:{direction:"rtl"}},r.a.createElement(q,{min:0,max:999,value:this.state.radius.bottomRight,onChange:function(t){return e.onChange(t,"bottomRight")}}))))}}]),a}(r.a.Component),me=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t){e.props.loop&&360===t&&(t=0),e.props.onChange(t.toFixed(0))},e}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"AngleRoot"},r.a.createElement(J,Object.assign({},this.props,{className:"AngleSlider",value:this.props.angle,onChange:this.onChange,min:0,max:360})),r.a.createElement(q,{className:"AngleInput",min:0,max:360,value:this.props.angle,onChange:this.onChange}))}}]),n}(r.a.Component),fe=Math.PI/180,ve=180/Math.PI,Se=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onChange=function(e,t){var n=a.state.shadow;n[e]=t,a.setState({shadow:n}),a.props.onDesignChange("".concat(a.props.designKey,".").concat(e),t)},a.getDegree=function(e,t){void 0===e&&(e=-1),void 0===t&&(t=1);var n,a=e/t;return e<0&&t>0&&(n=-Math.atan(a)*ve),e<0&&t<0&&(n=-Math.atan(a)*ve+180),e>0&&t<0&&(n=-Math.atan(a)*ve+180),e>0&&t>0&&(n=-Math.atan(a)*ve+360),Math.round(n)},a.getRatio=function(e){return Math.tan(e*fe)},a.calcDegree=function(e){var t,n,r=a.getRatio(e);0===r?(t=0,n=1):r===1/0?(t=1,n=0):(t=r,n=1,Math.abs(r)>1&&(t/=Math.abs(r),n/=Math.abs(r))),a.onChange("xOffset",e<=90&&e>=0||e<=360&&e>270?-t:t),a.onChange("yOffset",e<=90&&e>=0||e<=360&&e>270?n:-n)},a.state={shadow:e.shadow},a}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"MenuOptionSection"},r.a.createElement("p",{className:"MenuOptionSectionTitle"},"Angle"),r.a.createElement("div",{className:"ShadowRoot"},r.a.createElement(me,{className:"ShadowAngle",angle:this.getDegree(this.state.shadow.xOffset,this.state.shadow.yOffset),onChange:this.calcDegree}))),r.a.createElement(de,null),r.a.createElement("div",{className:"MenuOptionSection"},r.a.createElement("p",{className:"MenuOptionSectionTitle"},"Distance (px)"),r.a.createElement("div",{className:"BorderWidth"},r.a.createElement(ue,{className:"BorderWidthSlider",min:0,max:50,value:this.state.shadow.distance,designKey:"".concat(this.props.designKey,".distance"),onDesignChange:this.props.onDesignChange}))),r.a.createElement(de,null),r.a.createElement("div",{className:"MenuOptionSection"},r.a.createElement("p",{className:"MenuOptionSectionTitle"},"Size (px)"),r.a.createElement("div",{className:"BorderWidth"},r.a.createElement(ue,{className:"BorderWidthSlider",min:0,max:50,value:this.state.shadow.size,designKey:"".concat(this.props.designKey,".size"),onDesignChange:this.props.onDesignChange}))),r.a.createElement(de,null),r.a.createElement("div",{className:"MenuOptionSection"},r.a.createElement("p",{className:"MenuOptionSectionTitle"},"Blur (px)"),r.a.createElement("div",{className:"BorderWidth"},r.a.createElement(ue,{className:"BorderWidthSlider",min:0,max:50,value:this.state.shadow.blur,designKey:"".concat(this.props.designKey,".blur"),onDesignChange:this.props.onDesignChange}))),r.a.createElement(de,null),r.a.createElement("div",{className:"MenuOptionSection"},r.a.createElement("p",{className:"MenuOptionSectionTitle"},"Opacity & Color"),r.a.createElement(le,{color:this.state.shadow.color,designKey:"".concat(this.props.designKey,".color"),onDesignChange:this.props.onDesignChange})))}}]),n}(r.a.Component),ye=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).getIndex=function(){return[{key:"Fill Color & Opacity",icon:r.a.createElement("img",{draggable:!1,width:16,height:16,src:n(78)})},{key:"Border",icon:r.a.createElement("img",{draggable:!1,width:16,height:16,src:n(78)})},{key:"Corner",icon:r.a.createElement("img",{draggable:!1,width:16,height:16,src:n(78)})},{key:"Shadow",icon:r.a.createElement("img",{draggable:!1,width:16,height:16,src:n(78)})}]},e.getOptions=function(){return console.log(e.props.design.fillColor),[{key:"Fill Color & Opacity",render:r.a.createElement(pe,{color:e.props.design.fillColor,designKey:"design.fillColor",onDesignChange:e.props.onDesignChange})},{key:"Border",render:r.a.createElement(ge,{border:e.props.design.border,designKey:"design.border",onDesignChange:e.props.onDesignChange})},{key:"Corner",render:r.a.createElement(he,{radius:e.props.design.border.radius,designKey:"design.border.radius",onDesignChange:e.props.onDesignChange})},{key:"Shadow",render:r.a.createElement(Se,{shadow:e.props.design.border.shadow,designKey:"design.border.shadow",onDesignChange:e.props.onDesignChange})}]},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return r.a.createElement(ie,Object.assign({menuTitle:"Border Design"},this.props,{index:this.getIndex(),options:this.getOptions(),item:this.props.item}))}}]),a}(r.a.Component),be=(n(570),function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).resolveDesignData=function(){yt(Object(l.a)(e),"border",{shadow:{xOffset:-1,yOffset:1,distance:1,size:0,blur:4},radius:{}})},e.getDefaultData=function(){return{isContainer:!0,bpData:{overflowData:{state:"show"}}}},e.getPrimaryOptions=function(){return e.resolveDesignData(),[r.a.createElement(ae,{key:0,icon:r.a.createElement("img",{draggable:!1,width:16,height:16,src:n(78)}),select:e.props.select,menu:function(t){return r.a.createElement(ye,{defaultPosition:{x:t.clientX+48||48,y:t.clientY+48||48},design:bt(Object(l.a)(e)),onDesignChange:e.onDesignChange,select:e.props.select,item:e.getAgl()})}})]},e.updateDesign=function(t){e.getAgl().updateLayout()},e.getStaticChildren=function(){e.resolveDesignData();var t=bt(Object(l.a)(e)).border,n=bt(Object(l.a)(e)).fillColor;return r.a.createElement("div",{className:"ContainerBaseBorderRoot",style:{border:"".concat(t.width||0,"px solid ").concat(t.color||"rgba(186,218,85,0.63)"),backgroundColor:n,borderRadius:"".concat(t.radius.topLeft||0,"px ").concat(t.radius.topRight||0,"px ").concat(t.radius.bottomRight||0,"px ").concat(t.radius.bottomLeft||0,"px"),boxShadow:"".concat(t.shadow.xOffset*t.shadow.distance,"px ").concat(t.shadow.yOffset*t.shadow.distance,"px ").concat(t.shadow.blur,"px ").concat(t.shadow.size,"px ").concat(t.shadow.color||"rgba(186,218,85,0.63)")}})},e}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(nt,Object.assign({tagName:"ContainerBase"},this.props,{data:this.getData(),getPrimaryOptions:this.getPrimaryOptions,getInspector:this.getInspector,getStaticChildren:this.getStaticChildren}))}}]),a}(ee));be.defaultProps={tagName:"ContainerBase"};n(238),n(161);var Ce=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getDefaultData=function(){return{draggable:!1,isContainer:!0,bpData:{overflowData:{state:"show"}}}},e}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(nt,Object.assign({tagName:"Header",defaultGridItemStyle:{alignSelf:"stretch",justifySelf:"stretch",position:"relative",gridArea:"1/1/2/2"}},this.props,{style:{backgroundColor:"#bcbcbc",width:"100%",height:"auto",minHeight:"150px",zIndex:"50"},as:"header",autoConstraintsOff:!0,helplineOff:!0,data:this.getData(),getInspector:this.getInspector}))}}]),n}(ee);Ce.defaultProps={tagName:"Header"};var Oe=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getDefaultData=function(){return{draggable:!1,isContainer:!0,bpData:{overflowData:{state:"show"}}}},e}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(nt,Object.assign({tagName:"Footer",defaultGridItemStyle:{alignSelf:"stretch",justifySelf:"stretch",position:"relative",gridArea:"3/1/4/2"}},this.props,{style:{backgroundColor:"#bcbcbc",width:"100%",height:"auto",minHeight:"100px",zIndex:"51"},as:"footer",autoConstraintsOff:!0,helplineOff:!0,data:this.getData(),getInspector:this.getInspector}))}}]),n}(ee);Oe.defaultProps={tagName:"Footer"};var Ie=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getDefaultData=function(){return{draggable:!1,isContainer:!0,bpData:{overflowData:{state:"show"}}}},e}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(nt,Object.assign({tagName:"Section",defaultGridItemStyle:{alignSelf:"stretch",justifySelf:"stretch",position:"relative",gridArea:"2/1/3/2"}},this.props,{style:Object(N.a)(Object(N.a)({},{width:"100%",height:"auto",minHeight:"500px"}),this.props.style),designStyle:Object(N.a)(Object(N.a)({},{backgroundColor:"#b3faf5"}),this.props.designStyle),data:this.getData(),autoConstraintsOff:!0,helplineOff:!0,as:"section",getInspector:this.getInspector}))}}]),n}(ee);Ie.defaultProps={tagName:"Section"};var De=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).initKeyboard=function(){window.addEventListener("keydown",(function(e){var t=(e=e||window.event).which||e.keyCode,n=e.ctrlKey?e.ctrlKey:17===t;if(38===t&&n){e.preventDefault(),console.log("ctrl + Up");var r=a.props.select.getSelected();a.getHorizontalSection(r.props.id)&&a.moveUp(r.props.id),a.props.select.onScrollItem(e,Object(l.a)(a))}if(40===t&&n){e.preventDefault(),console.log("ctrl + Down");var i=a.props.select.getSelected();a.getHorizontalSection(i.props.id)&&a.moveDown(i.props.id),a.props.select.onScrollItem(e,Object(l.a)(a))}if(37===t&&n){e.preventDefault(),console.log("ctrl + Left");var o=a.props.select.getSelected();a.getVerticalSection(o.props.id)&&a.moveLeft(o.props.id),a.props.select.onScrollItem(e,Object(l.a)(a))}if(39===t&&n){e.preventDefault(),console.log("ctrl + Right");var s=a.props.select.getSelected();a.getVerticalSection(s.props.id)&&a.moveRight(s.props.id),a.props.select.onScrollItem(e,Object(l.a)(a))}}))},a.getDefaultData=function(){return{isContainer:!0,draggable:!1,resizable:!1,pageResize:!0,bpData:{overflowData:{state:"scroll",scroll:"vertical",auto:!0},grid:{x:a.gridX,y:a.gridY,gridTemplateRows:a.gridTemplateRows,gridTemplateColumns:a.gridTemplateColumns},containerHeight:"max-content"}}},a.getHorizontalSection=function(e){return a.allSectionsH.find((function(t){return t.props.id===e}))},a.deleteHorizontalSection=function(e){var t=a.allSectionsH.findIndex((function(t){return t.props.id===e}));if(t<0)return!1;if(1===a.allSectionsH.length)return!1;a.gridX--;var n=a.allSectionsH[t].getGridArea().split("/"),r=parseInt(n[0]),i=(parseInt(n[1]),parseInt(n[2])),o=(parseInt(n[3]),r),s=i;return a.allSectionsV.forEach((function(e){if(null!==e){var t=e.getGridArea(),n=t.split("/"),r=parseInt(n[0]),i=parseInt(n[1]),c=parseInt(n[2]),l=parseInt(n[3]);o>=r&&s<=c?c--:s<=r&&(c--,r--),t="".concat(r,"/").concat(i,"/").concat(c,"/").concat(l),e.setGridArea(t,a.props.breakpointmanager.getHighestBpName())}})),a.allSectionsH.forEach((function(e){var t=e.getGridArea(),n=t.split("/"),r=parseInt(n[0]),i=parseInt(n[1]),o=parseInt(n[2]),c=parseInt(n[3]);s<=r&&(r--,o--),t="".concat(r,"/").concat(i,"/").concat(o,"/").concat(c),e.setGridArea(t,a.props.breakpointmanager.getHighestBpName())})),t>=0&&a.allSectionsH.splice(t,1),a.gridTemplateRows=new Array(a.allSectionsH.length).fill(0).map((function(e){return"auto"})).join(" "),a.root.current.setGrid({x:a.gridX,y:a.gridY,gridTemplateRows:a.gridTemplateRows,gridTemplateColumns:a.gridTemplateColumns},void 0,a.props.breakpointmanager.getHighestBpName()),!0},a.getVerticalSection=function(e){return a.allSectionsV.find((function(t){return null!==t&&t.props.id===e}))},a.deleteVerticalSection=function(e){var t=a.allSectionsV.findIndex((function(t){return null!==t&&t.props.id===e}));if(t<0)return!1;a.gridY--;var n=a.allSectionsV[t].getGridArea().split("/"),r=(parseInt(n[0]),parseInt(n[1])),i=parseInt(n[2]),o=parseInt(n[3]),s=i,c=r,l=o;a.allSectionsV.forEach((function(e){if(null!==e){var t=e.getGridArea(),n=t.split("/"),r=parseInt(n[0]),i=parseInt(n[1]),o=parseInt(n[2]),s=parseInt(n[3]);i>=c&&(i--,s--),t="".concat(r,"/").concat(i,"/").concat(o,"/").concat(s),e.setGridArea(t,a.props.breakpointmanager.getHighestBpName())}})),a.allSectionsH.forEach((function(e){var t=e.getGridArea(),n=t.split("/"),r=parseInt(n[0]),i=parseInt(n[1]),o=parseInt(n[2]),c=parseInt(n[3]);i>=l?(i--,c--):c>=s&&c--,t="".concat(r,"/").concat(i,"/").concat(o,"/").concat(c),e.setGridArea(t,a.props.breakpointmanager.getHighestBpName())})),a.allSectionsV.splice(t,1);var p=a.getMainColIndex();return a.gridTemplateColumns=new Array(a.allSectionsV.length).fill(0).map((function(e,t){return t===p?"minmax(0px,1fr)":"auto"})).join(" "),a.root.current.setGrid({x:a.gridX,y:a.gridY,gridTemplateRows:a.gridTemplateRows,gridTemplateColumns:a.gridTemplateColumns},void 0,a.props.breakpointmanager.getHighestBpName()),!0},a.addSectionQueue=function(e,t,n,r,i,o){if(a.addQueue||(a.addQueue=[]),a.addQueue.push({index:e,tagName:t,dynamicComponents:n,as:r,isVertical:i,callback:o}),!a.checkingAddQueue){var s=a.addQueue.shift();a.checkAddQueue(s)}},a.checkAddQueue=function(e){a.checkingAddQueue=!0,e.isVertical?a.addVerticalSection(e.index,e.tagName,e.dynamicComponents,e.as,(function(t){e.callback&&e.callback(t);var n=a.addQueue.shift();n?a.checkAddQueue(n):a.checkingAddQueue=!1})):a.addHorizontalSection(e.index,e.tagName,e.dynamicComponents,e.as,(function(t){e.callback&&e.callback(t);var n=a.addQueue.shift();n?a.checkAddQueue(n):a.checkingAddQueue=!1}))},a.onItemPreDelete=function(e){var t=a.deleteHorizontalSection(e.props.id);return t||(t=a.deleteVerticalSection(e.props.id)),t},a.onItemPreResizeStop=function(e,t,n,r,i){if("e"!==n&&"w"!==n){var o=e.getGridArea().split("/"),s=parseInt(o[0]),c=parseInt(o[1]),l=parseInt(o[2]),p=parseInt(o[3]);a.root.current.prepareRects();var d=a.props.gridLine.getYlineRef(a.root.current.props.id),u=a.root.current.getGridLineRect(d[0],0,"y",a.root.current).top;if("n"===n)if(r.y>0){for(var g=i.top-u,h=1,m=d.length-1;m>=0;m--){var f=a.root.current.getGridLineRect(d[m],m,"y",a.root.current).top-u;if(m===d.length-1&&f++,g>=f){h=m+1;break}}a.allSectionsH.forEach((function(t){var n=t.getGridArea(),r=n.split("/"),i=parseInt(r[0]),o=parseInt(r[1]),l=parseInt(r[2]),d=parseInt(r[3]);if(i>=s&&i<h)if(o===p){o--;for(var u=a.allSectionsV.findIndex((function(t){return null!==t&&t.props.id===e.props.id}))-1;u>=0;){var g=a.allSectionsV[u];if(g){var m=g.getGridArea().split("/"),f=parseInt(m[0]);parseInt(m[1]),parseInt(m[2]),parseInt(m[3]);l<=f?(o--,u--):u=-1}}}else if(d===c){d++;for(var v=a.allSectionsV.findIndex((function(t){return null!==t&&t.props.id===e.props.id}))+1;v<a.allSectionsV.length;){var S=a.allSectionsV[v];if(S){var y=S.getGridArea().split("/"),b=parseInt(y[0]);parseInt(y[1]),parseInt(y[2]),parseInt(y[3]);l<=b?(d++,v++):v=a.allSectionsV.length}else v=a.allSectionsV.length}}n="".concat(i,"/").concat(o,"/").concat(l,"/").concat(d),t.setGridArea(n,a.props.breakpointmanager.getHighestBpName())})),s=Math.min(h,l-1)}else{for(var v=i.top-u,S=1,y=d.length-1;y>=0;y--){var b=d[y].current.rect.top-u;if(y===d.length-1&&b++,console.log("targetTop",v,b),v>=b){S=y+1;break}}console.log("selectedX1",S),a.allSectionsH.forEach((function(t){var n=t.getGridArea(),r=n.split("/"),i=parseInt(r[0]),o=parseInt(r[1]),l=parseInt(r[2]),d=parseInt(r[3]);l<=s&&i>=S&&(o<=c&&d>=p&&(a.getMainColIndex()>a.allSectionsV.findIndex((function(t){return null!==t&&t.props.id===e.props.id}))?o=p:d=c));n="".concat(i,"/").concat(o,"/").concat(l,"/").concat(d),t.setGridArea(n,a.props.breakpointmanager.getHighestBpName())})),s=Math.min(S,l-1)}else if(r.y>0){for(var C=i.height+(i.top-u),O=d.length,I=1;I<d.length;I++){var D=d[I].current.rect.top-u;if(I===d.length-1&&D++,C<=D){O=I+1;break}}a.allSectionsH.forEach((function(t){var n=t.getGridArea(),r=n.split("/"),i=parseInt(r[0]),o=parseInt(r[1]),s=parseInt(r[2]),d=parseInt(r[3]);i>=l&&i<O&&(o<=c&&d>=p&&(a.getMainColIndex()>a.allSectionsV.findIndex((function(t){return null!==t&&t.props.id===e.props.id}))?o=p:d=c));n="".concat(i,"/").concat(o,"/").concat(s,"/").concat(d),t.setGridArea(n,a.props.breakpointmanager.getHighestBpName())})),l=Math.max(O,s+1)}else{for(var w=i.height+(i.top-u),R=d.length,x=1;x<d.length;x++){var j=d[x].current.rect.top-u;if(x===d.length-1&&j++,w<=j){R=x+1;break}}a.allSectionsH.forEach((function(t){var n=t.getGridArea(),r=n.split("/"),i=parseInt(r[0]),o=parseInt(r[1]),s=parseInt(r[2]),d=parseInt(r[3]);if(i<l&&i>=R)if(o===p){o--;for(var u=a.allSectionsV.findIndex((function(t){return null!==t&&t.props.id===e.props.id}))-1;u>=0;){var g=a.allSectionsV[u];if(g){var h=g.getGridArea().split("/"),m=(parseInt(h[0]),parseInt(h[1]),parseInt(h[2]));parseInt(h[3]);i>=m?(o--,u--):u=-1}else u=-1}}else if(d===c){d++;for(var f=a.allSectionsV.findIndex((function(t){return null!==t&&t.props.id===e.props.id}))+1;f<a.allSectionsV.length;){var v=a.allSectionsV[f];if(v){var S=v.getGridArea().split("/"),y=(parseInt(S[0]),parseInt(S[1]),parseInt(S[2]));parseInt(S[3]);i>=y?(d++,f++):f=a.allSectionsV.length}else f=a.allSectionsV.length}}n="".concat(i,"/").concat(o,"/").concat(s,"/").concat(d),t.setGridArea(n,a.props.breakpointmanager.getHighestBpName())})),l=Math.max(R,s+1)}e.setGridArea("".concat(s,"/").concat(c,"/").concat(l,"/").concat(p),a.props.breakpointmanager.getHighestBpName())}},a.addHorizontalSection=function(e,t,n,i,o){a.gridX++,a.gridTemplateRows=new Array(a.allSectionsH.length+1).fill(0).map((function(e){return"auto"})).join(" ");var s=0!==e?e-1:0,c=a.allSectionsH[s],l=c&&c.getGridArea(),p=l?"".concat(e+1,"/").concat(l.split("/")[1],"/").concat(e+2,"/").concat(l.split("/")[3]):"1/1/2/2";t||(t="Section");var d=n[t],u=r.a.createElement(d,{as:i,portalNodeId:"Section"===t?"page-main-sections":void 0,isSection:!0,data:{bpData:{gridItemStyle:{gridArea:p,marginTop:"0px",marginLeft:"0px",marginBottom:"0px",marginRight:"0px"}},isSection:!0},resizeSides:["s","n"],onItemPreDelete:a.onItemPreDelete});a.allSectionsV.forEach((function(t){if(null!==t){var n=t.getGridArea(),r=n.split("/"),i=parseInt(r[0]),o=parseInt(r[1]),s=parseInt(r[2]),c=parseInt(r[3]),l=e+1;s>=l&&s++,i>=l&&i++,n="".concat(i,"/").concat(o,"/").concat(s,"/").concat(c),t.setGridArea(n,a.props.breakpointmanager.getHighestBpName())}})),a.allSectionsH.forEach((function(t){var n=t.getGridArea(),r=n.split("/"),i=parseInt(r[0]),o=parseInt(r[1]),s=parseInt(r[2]),c=parseInt(r[3]),l=e+1;i>=l&&i++,s>l&&s++,n="".concat(i,"/").concat(o,"/").concat(s,"/").concat(c),t.setGridArea(n,a.props.breakpointmanager.getHighestBpName())})),a.root.current.setGrid({x:a.gridX,y:a.gridY,gridTemplateRows:a.gridTemplateRows,gridTemplateColumns:a.gridTemplateColumns},void 0,a.props.breakpointmanager.getHighestBpName()),a.root.current.addChild(u,void 0,void 0,void 0,(function(t){a.allSectionsH.splice(e,0,t),o&&o(t)}),void 0,!0)},a.getMainColIndex=function(e){var t=a.allSectionsV.findIndex((function(e){return null===e}));return void 0!==e&&t>=e?t+1:t},a.addVerticalSection=function(e,t,n,i,o){a.gridY++;var s=0!==e?e-1:0,c=a.allSectionsV[s];null===c&&(c=a.allSectionsV[s+1]);var l=c&&c.getGridArea(),p=l?"".concat(l.split("/")[0],"/").concat(e+1,"/").concat(l.split("/")[2],"/").concat(e+2):"".concat(1,"/",e+1,"/").concat(a.gridX+1,"/").concat(e+2);t||(t="Section");var d=n[t],u=r.a.createElement(d,{as:i,portalNodeId:"Section"===t?"page-main-sections":void 0,isSection:!0,data:{bpData:{gridItemStyle:{gridArea:p,marginTop:"0px",marginLeft:"0px",marginBottom:"0px",marginRight:"0px"}},isSection:!0,isVerticalSection:!0},style:{width:"200px",height:"auto",minHeight:"auto"},resizeSides:["e","w","n","s"],onItemPreDelete:a.onItemPreDelete,onItemPreResizeStop:a.onItemPreResizeStop});a.allSectionsH.forEach((function(t){var n=t.getGridArea(),r=n.split("/"),i=parseInt(r[0]),o=parseInt(r[1]),s=parseInt(r[2]),c=parseInt(r[3]),l=e+1;o>=l&&o++,c>l&&c++,n="".concat(i,"/").concat(o,"/").concat(s,"/").concat(c),t.setGridArea(n,a.props.breakpointmanager.getHighestBpName())})),a.allSectionsV.forEach((function(t){if(null!==t){var n=t.getGridArea(),r=n.split("/"),i=parseInt(r[0]),o=parseInt(r[1]),s=parseInt(r[2]),c=parseInt(r[3]),l=e+1;o>=l&&o++,c>l&&c++,n="".concat(i,"/").concat(o,"/").concat(s,"/").concat(c),t.setGridArea(n,a.props.breakpointmanager.getHighestBpName())}}));var g=a.getMainColIndex(e);console.log("mainColIndex",g),a.gridTemplateColumns=new Array(a.allSectionsV.length+1).fill(0).map((function(e,t){return t===g?"minmax(0px,1fr)":"auto"})).join(" "),a.root.current.setGrid({x:a.gridX,y:a.gridY,gridTemplateRows:a.gridTemplateRows,gridTemplateColumns:a.gridTemplateColumns},void 0,a.props.breakpointmanager.getHighestBpName()),a.root.current.addChild(u,void 0,void 0,void 0,(function(t){a.allSectionsV.splice(e,0,t),a.props.select.onScrollItem(),o&&o(t)}),void 0,!0)},a.moveUp=function(e){var t=a.getHorizontalSection(e);if(t){var n,r,i,o,s,c=t.getGridArea().split("/"),l=parseInt(c[0]),p=parseInt(c[1]),d=parseInt(c[2]),u=parseInt(c[3]),g=l-1,h=a.allSectionsH[g-1];h&&(n=h.getGridArea().split("/"),r=parseInt(n[0]),i=parseInt(n[1]),o=parseInt(n[2]),s=parseInt(n[3]),h.setGridArea("".concat(r+1,"/").concat(p,"/").concat(o+1,"/").concat(u),a.props.breakpointmanager.getHighestBpName()),t.setGridArea("".concat(l-1,"/").concat(i,"/").concat(d-1,"/").concat(s),a.props.breakpointmanager.getHighestBpName()),O(a.allSectionsH,g,g-1))}},a.moveDown=function(e){var t=a.getHorizontalSection(e);if(t){var n,r,i,o,s,c=t.getGridArea().split("/"),l=parseInt(c[0]),p=parseInt(c[1]),d=parseInt(c[2]),u=parseInt(c[3]),g=l-1,h=a.allSectionsH[g+1];h&&(n=h.getGridArea().split("/"),r=parseInt(n[0]),i=parseInt(n[1]),o=parseInt(n[2]),s=parseInt(n[3]),h.setGridArea("".concat(r-1,"/").concat(p,"/").concat(o-1,"/").concat(u),a.props.breakpointmanager.getHighestBpName()),t.setGridArea("".concat(l+1,"/").concat(i,"/").concat(d+1,"/").concat(s),a.props.breakpointmanager.getHighestBpName()),O(a.allSectionsH,g,g+1))}},a.moveRight=function(e){var t=a.getVerticalSection(e);if(t){var n,r,i,o,s,c=t.getGridArea().split("/"),l=parseInt(c[0]),p=parseInt(c[1]),d=parseInt(c[2]),u=parseInt(c[3]),g=p-1,h=a.allSectionsV[g+1];if(h)return n=h.getGridArea().split("/"),r=parseInt(n[0]),i=parseInt(n[1]),o=parseInt(n[2]),s=parseInt(n[3]),h.setGridArea("".concat(l,"/").concat(i-1,"/").concat(d,"/").concat(s-1),a.props.breakpointmanager.getHighestBpName()),t.setGridArea("".concat(r,"/").concat(p+1,"/").concat(o,"/").concat(u+1),a.props.breakpointmanager.getHighestBpName()),void O(a.allSectionsV,g,g+1);null===h&&(t.setGridArea("".concat(l,"/").concat(p+1,"/").concat(d,"/").concat(u+1),a.props.breakpointmanager.getHighestBpName()),a.allSectionsH.forEach((function(e){var t=e.getGridArea(),n=t.split("/"),r=parseInt(n[0]),i=parseInt(n[1]),o=parseInt(n[2]),s=parseInt(n[3]);(r>=l||o<=d)&&(i--,s--),t="".concat(r,"/").concat(i,"/").concat(o,"/").concat(s),e.setGridArea(t,a.props.breakpointmanager.getHighestBpName())})),O(a.allSectionsV,g,g+1));var m=a.getMainColIndex();a.gridTemplateColumns=new Array(a.allSectionsV.length).fill(0).map((function(e,t){return t===m?"minmax(0px,1fr)":"auto"})).join(" "),a.root.current.setGrid({x:a.gridX,y:a.gridY,gridTemplateRows:a.gridTemplateRows,gridTemplateColumns:a.gridTemplateColumns},void 0,a.props.breakpointmanager.getHighestBpName())}},a.moveLeft=function(e){var t=a.getVerticalSection(e);if(t){var n,r,i,o,s,c=t.getGridArea().split("/"),l=parseInt(c[0]),p=parseInt(c[1]),d=parseInt(c[2]),u=parseInt(c[3]),g=p-1,h=a.allSectionsV[g-1];if(h)return n=h.getGridArea().split("/"),r=parseInt(n[0]),i=parseInt(n[1]),o=parseInt(n[2]),s=parseInt(n[3]),h.setGridArea("".concat(l,"/").concat(i+1,"/").concat(d,"/").concat(s+1),a.props.breakpointmanager.getHighestBpName()),t.setGridArea("".concat(r,"/").concat(p-1,"/").concat(o,"/").concat(u-1),a.props.breakpointmanager.getHighestBpName()),void O(a.allSectionsV,g,g-1);null===h&&(t.setGridArea("".concat(l,"/").concat(p-1,"/").concat(d,"/").concat(u-1),a.props.breakpointmanager.getHighestBpName()),a.allSectionsH.forEach((function(e){var t=e.getGridArea(),n=t.split("/"),r=parseInt(n[0]),i=parseInt(n[1]),o=parseInt(n[2]),s=parseInt(n[3]);(r>=l||o<=d)&&(i++,s++),t="".concat(r,"/").concat(i,"/").concat(o,"/").concat(s),e.setGridArea(t,a.props.breakpointmanager.getHighestBpName())})),O(a.allSectionsV,g,g-1));var m=a.getMainColIndex();a.gridTemplateColumns=new Array(a.allSectionsV.length).fill(0).map((function(e,t){return t===m?"minmax(0px,1fr)":"auto"})).join(" "),a.root.current.setGrid({x:a.gridX,y:a.gridY,gridTemplateRows:a.gridTemplateRows,gridTemplateColumns:a.gridTemplateColumns},void 0,a.props.breakpointmanager.getHighestBpName())}},a.hasMiniMenuOverride=function(){return!1},a.state={},a.gridTemplateRows="auto",a.gridTemplateColumns="minmax(0px,1fr)",a.gridX=0,a.gridY=1,a.allSectionsH=[],a.allSectionsV=[null],a.root=r.a.createRef(),a.initKeyboard(),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.addSectionQueue(0,"Header",Ee,void 0,!1),this.addSectionQueue(1,"Section",Ee,void 0,!1),this.addSectionQueue(2,"Footer",Ee,void 0,!1)}},{key:"render",value:function(){var e=this.getAgl()&&this.getAgl().getSize(!1)||1001;return r.a.createElement(nt,Object.assign({tagName:"PageBase",aglRef:this.props.aglRef?this.root=this.props.aglRef:this.root},this.props,{className:"Page1Root",style:{width:"".concat(e,"px"),height:"80%",boxShadow:"0 2px 12px 0 rgba(134,138,165,.41)"},data:this.getData(),isPage:!0,page:this,hasMiniMenuOverride:this.hasMiniMenuOverride,getInspector:this.getInspector}),r.a.createElement("main",{style:{display:"contents"},id:"page-main-sections"}))}}]),n}(ee);De.defaultProps={tagName:"PageBase"};var we=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(nt,Object.assign({tagName:"VerticalSpacer"},this.props,{data:this.getData(),style:{width:"100%",height:"20px"}}))}}]),n}(ee),Re={getAnimationCSS:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getCompositeFromData("design")||{},a=u.a.create({fadeIn:{animationName:{"0%":{opacity:0},"100%":{opacity:"".concat(n.opacity||"1")}},animationDuration:"".concat(t.duration||"1s")}});return Object(u.b)(a.fadeIn)},onAnimationEnd:function(e){}},xe=Re,je={getAnimationCSS:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getCompositeFromData("transform")||{},a=e.getCompositeFromData("design")||{},r=u.a.create({rotate:{animationName:{"0%":{opacity:0,transform:"rotate(".concat((n.rotateDegree||0)-360,"deg) scale(0)")},"100%":{opacity:"".concat(a.opacity||"1"),transform:"rotate(".concat(n.rotateDegree||0,"deg) scale(1)")}},animationDuration:"".concat(t.duration||"1s")}});return Object(u.b)(r.rotate)},onAnimationEnd:function(e){}},ke=je,ze={},Ee=ze,Me={},Ne=(n(42),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).addSection=function(e,t){a.props.page.addSectionQueue(e,"Section",Ee,void 0,t)},a.getAnchor=function(e){return document.getElementById("page_add_horizontal_".concat(e))},a.needUpdate=function(){clearTimeout(a.updateTimeout),a.updateTimeout=setTimeout((function(){a.forceUpdate()}),500)},a.state={anchorEl:void 0},console.log("AdjustmentPageControllers","constructor"),a}return Object(c.a)(n,[{key:"render",value:function(){return null}}]),n}(r.a.Component)),Le=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.size,n=e.id;return r.a.createElement("div",{className:"fixed-holder",style:{top:t?t.top:0,left:t?t.left:0,width:t?t.clientWidth||t.width:0,height:t?t.clientHeight||t.height:0},id:"".concat(n,"_fixed_holder")})}}]),n}(r.a.Component),Pe=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).saveState=function(){var e=a.props,t=e.allChildren,n=e.grid,r=e.overflowData,i=e.aglStyle,o=e.size;a.allChildId=Object.keys(t),a.allChildIndex=Object.values(t).map((function(e){return e.zIndex})),a.grid=m(n),a.overflowData=m(r),a.aglStyle=m(i),a.size=m(o)},a.modifyContainerStyle=function(e,t){e||(e=a.props.grid);var n=a.props,r=n.modifyContainerStyleOverride,i=n.agl;if(r)r(Object(l.a)(a),i,e,t);else{var o={width:t&&"auto"===t.width?"auto":"100%",height:t&&"auto"===t.height?"auto":i.getFromData("containerHeight")||"100%",display:"grid",position:"relative",gridTemplateRows:e.gridTemplateRows,gridTemplateColumns:e.gridTemplateColumns},s=document.getElementById(a.getContainerStyleId());s?b(s,o,a.getContainerStyleId()):C(o,a.getContainerStyleId(),a.getContainerStyleId(),a.props.agl)}},a.modifyOverflowStyle=function(e,t){var n=document.getElementById(a.getOverflowStyleId());n?b(n,a.getOverflowStyle(e,t),a.getOverflowStyleId()):C(a.getOverflowStyle(e,t),a.getOverflowStyleId(),a.getOverflowStyleId(),a.props.agl)},a.getOverflowStyle=function(e,t){var n={display:"grid",gridTemplateRows:"1fr",gridTemplateColumns:"1fr",position:"absolute",top:0,bottom:0,left:0,right:0};if(t&&"auto"===t.width&&(n.position="relative",n.width="auto",delete n.left,delete n.right),t&&"auto"===t.height&&(n.position="relative",n.height="auto",delete n.top,delete n.bottom),e||(e=a.props.overflowData),!e)return n;if("show"===e.state)return n;if("hide"===e.state)return n.overflowX="hidden",n.overflowY="hidden",n;if("scroll"===e.state){switch(e.scroll){case"vertical":n.overflowX="hidden",n.overflowY=e.auto?"auto":"scroll";break;case"horizontal":n.overflowX=e.auto?"auto":"scroll",n.overflowY="hidden";break;case"both":n.overflowX=e.auto?"auto":"scroll",n.overflowY=e.auto?"auto":"scroll"}return n}return n},a.getOverflowStyleId=function(){return"style_overflow_".concat(a.props.id)},a.getContainerStyleId=function(){return"style_container_".concat(a.props.id)},a.updateAdjustments=function(){a.controllerRef.current.forceUpdate(),a.fixedHolderRef.current.forceUpdate()},a.controllerRef=r.a.createRef(),a.fixedHolderRef=r.a.createRef(),a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.modifyOverflowStyle(this.props.overflowData,this.props.aglStyle),this.modifyContainerStyle(this.props.grid,this.props.aglStyle)}},{key:"shouldComponentUpdate",value:function(e,t,n){return f(this.allChildId,Object.keys(e.allChildren))&&f(this.grid,e.grid)&&f(this.size,e.size)&&f(this.allChildIndex.toString(),Object.values(e.allChildren).map((function(e){return e.zIndex}))).toString()?(f(this.overflowData,e.overflowData)||this.modifyOverflowStyle(),f(this.aglStyle,e.aglStyle)||(this.modifyOverflowStyle(e.overflowData,e.aglStyle),this.modifyContainerStyle(e.grid,e.aglStyle)),!1):(f(this.overflowData,e.overflowData)||this.modifyOverflowStyle(e.overflowData,e.aglStyle),f(this.grid,e.grid)||this.modifyContainerStyle(e.grid,e.aglStyle),f(this.aglStyle,e.aglStyle)||(this.modifyOverflowStyle(e.overflowData,e.aglStyle),this.modifyContainerStyle(e.grid,e.aglStyle)),!0)}},{key:"render",value:function(){if(!this.props.show)return null;this.saveState();var e=this.props,t=e.allChildren,n=e.id,a=e.grid,i=e.isPage,o=e.page,s=e.size,c=e.getChildrenOverride,l=e.agl,p=H()(this.getOverflowStyleId()),d=H()(this.getContainerStyleId());return r.a.createElement("div",{id:"".concat(n,"_overflow"),className:p,ref:this.props.overflowRef,onScroll:this.props.onScroll},r.a.createElement("div",{id:"".concat(n,"_container"),className:d,ref:this.props.containerRef},r.a.createElement(B,{allChildren:t,getChildrenOverride:c,agl:l}),i&&r.a.createElement(Ne,{grid:a,page:o,ref:this.controllerRef,document:this.props.document}),i&&r.a.createElement(Le,{ref:this.fixedHolderRef,size:s,id:n})))}}]),n}(r.a.Component),Ae=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).canUseDOM=!("undefined"===typeof window||!window.document||!window.document.createElement),e}return Object(c.a)(n,[{key:"componentWillUnmount",value:function(){this.defaultNode&&document.body.removeChild(this.defaultNode),this.defaultNode=null}},{key:"render",value:function(){if(!this.canUseDOM)return null;var e=this.props.node;return this.props.disabled?this.props.children:(this.props.nodeId&&(e=document&&document.getElementById(this.props.nodeId)),e||this.defaultNode||(this.defaultNode=document.createElement("div"),document.body.appendChild(this.defaultNode)),o.a.createPortal(this.props.children,e||this.defaultNode))}}]),n}(r.a.Component),Be=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.anchor;return e?r.a.createElement("div",{className:"AGLAnchor",id:e.id}):null}}]),n}(r.a.Component),Te=(n(49),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onMouseDown=function(t){e.isLeftClick(t)&&(t.stopPropagation(),t.preventDefault(),e.mouseDown=!0,window.addEventListener("pointermove",e.onMouseMove),window.addEventListener("pointerup",e.onMouseUp))},e.isLeftClick=function(e){return"mouse"===e.pointerType&&0===e.button},e.onMouseMove=function(t){e.mouseDown&&(t.stopPropagation(),e.moving?e.onDrag(t):(e.moving=!0,e.onDragStart(t)))},e.onMouseUp=function(t){e.mouseDown&&(e.mouseDown=!1,e.moving&&(t.stopPropagation(),e.onDragStop(t)),e.moving=!1,window.removeEventListener("pointermove",e.onMouseMove),window.removeEventListener("pointerup",e.onMouseUp))},e.onDragStart=function(t){e.dragData={lastMouseX:t.clientX,lastMouseY:t.clientY},e.delta={x:0,y:0},e.props.onResizeStart(t,e.props.side,e.delta)},e.onDrag=function(t){e.delta.x+=t.clientX-e.dragData.lastMouseX,e.delta.y+=t.clientY-e.dragData.lastMouseY,e.props.onResize(t,e.props.side,e.delta),e.dragData.lastMouseX=t.clientX,e.dragData.lastMouseY=t.clientY},e.onDragStop=function(t){e.delta.x+=t.clientX-e.dragData.lastMouseX,e.delta.y+=t.clientY-e.dragData.lastMouseY,e.props.onResizeStop(t,e.props.side,e.delta)},e.isCorner=function(){return 2===e.props.side.length},e}return Object(c.a)(n,[{key:"render",value:function(){var e=H()("Adjustment-".concat(this.props.side,"-pane"),{"Adjustment-CornerCircle":this.isCorner()},"Adjustment-Pane"),t={};return this.props.draggingStart&&(t.pointerEvents="none"),r.a.createElement("div",{id:this.props.id,onPointerDown:this.onMouseDown,className:e,style:Object(N.a)(Object(N.a)({},t),this.props.style)})}}]),n}(r.a.Component)),He=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onClick=function(t){var n=e.props,a=n.itemId;ct(n.idMan.getItem(a))},e.onMouseDown=function(e){e.stopPropagation(),e.preventDefault()},e.isLeftClick=function(e){return"mouse"===e.pointerType&&0===e.button},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this.props.isStretch;return r.a.createElement("div",{id:"AdjustmentResize",className:"AdjustmentStretchRoot",onPointerDown:this.onMouseDown,onClick:this.onClick,style:this.props.style},e&&r.a.createElement("img",{draggable:!1,width:16,height:16,src:n(573)}),!e&&r.a.createElement("img",{draggable:!1,width:16,height:16,src:n(574)}))}}]),a}(r.a.Component),Ge=(n(49),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onMouseDown=function(t){e.isLeftClick(t)&&(t.stopPropagation(),t.preventDefault(),e.mouseDown=!0,window.addEventListener("pointermove",e.onMouseMove),window.addEventListener("pointerup",e.onMouseUp))},e.isLeftClick=function(e){return"mouse"===e.pointerType&&0===e.button},e.onMouseMove=function(t){e.mouseDown&&(t.stopPropagation(),e.moving?e.onDrag(t):(e.moving=!0,e.onDragStart(t)))},e.onMouseUp=function(t){e.mouseDown&&(e.mouseDown=!1,e.moving&&(t.stopPropagation(),e.onDragStop(t)),e.moving=!1,window.removeEventListener("pointermove",e.onMouseMove),window.removeEventListener("pointerup",e.onMouseUp))},e.onDragStart=function(t){e.dragData={lastMouseX:t.clientX,lastMouseY:t.clientY},e.delta={x:0,y:0},e.props.onResizeStart(t,e.props.side,e.delta)},e.onDrag=function(t){e.delta.x+=t.clientX-e.dragData.lastMouseX,e.delta.y+=t.clientY-e.dragData.lastMouseY,e.props.onResize(t,e.props.side,e.delta),e.dragData.lastMouseX=t.clientX,e.dragData.lastMouseY=t.clientY},e.onDragStop=function(t){e.delta.x+=t.clientX-e.dragData.lastMouseX,e.delta.y+=t.clientY-e.dragData.lastMouseY,e.props.onResizeStop(t,e.props.side,e.delta)},e.isCorner=function(){return 2===e.props.side.length},e}return Object(c.a)(n,[{key:"render",value:function(){var e=H()("Adjustment-".concat(this.props.side,"-pane-page"),"Adjustment-Pane"),t={};return this.props.draggingStart&&(t.pointerEvents="none"),r.a.createElement("div",{id:this.props.id,onPointerDown:this.onMouseDown,className:e,style:t})}}]),n}(r.a.Component)),Fe=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),console.log("AdjustmentResizePage"),a}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.top,a=t.left,i=t.width,o=t.height;t.itemId;return void 0===n||void 0===a||void 0===i||void 0===o?null:r.a.createElement("div",{id:"AdjustmentResizePage",style:{width:i,height:o},className:"AdjustmentResizeRoot"},this.props.sides.map((function(t,n){return r.a.createElement(Ge,{key:n,side:t,onResizeStart:e.props.onResizeStart,onResize:e.props.onResize,onResizeStop:e.props.onResizeStop,draggingStart:e.props.draggingStart})})))}}]),n}(r.a.Component),We=function e(t){var n=this;Object(s.a)(this,e),this.addListener=function(e){n.listeners.find((function(t){return t===e}))||n.listeners.push(e)},this.trigger=function(e){n.prevent||(n.prevent=!0,n.listeners.forEach((function(t){t(e)})),setTimeout((function(){n.prevent=!1}),0))},this.removeListener=function(e){var t=n.listeners.findIndex((function(t){return t===e}));t>=0&&n.listeners.splice(t,1)},this.listeners=[],t&&this.listeners.push(t)},Ue={boundingRects:{},clientsWidth:{},clientsHeight:{}},Ye=function(){Ue.boundingRects={},Ue.clientsWidth={},Ue.clientsHeight={},delete Ue.clearCacheTimeuot},Xe=function(e,t){return Ue.clearCacheTimeuot||(Ue.clearCacheTimeuot=setTimeout((function(){Ye()}),0)),Ue.boundingRects[e]||(Ue.boundingRects[e]=t.getBoundingClientRect()),Ue.boundingRects[e]},Ve=function(e,t){return Ue.clearCacheTimeuot||(Ue.clearCacheTimeuot=setTimeout((function(){Ye()}),0)),Ue.clientsWidth[e]||(Ue.clientsWidth[e]=t.clientWidth),Ue.clientsWidth[e]},_e=function(e,t){return Ue.clearCacheTimeuot||(Ue.clearCacheTimeuot=setTimeout((function(){Ye()}),0)),Ue.clientsHeight[e]||(Ue.clientsHeight[e]=t.clientHeight),Ue.clientsHeight[e]},Ke=function(e,t,n){Ue[n][e]=t},Qe=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return this.props.animation?r.a.createElement("div",{className:this.props.className,id:this.props.id,onAnimationEnd:this.props.onAnimationEnd},this.props.children):this.props.children}}]),n}(r.a.Component),Ze=n(241),Je=n.n(Ze),qe=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return this.props.animation?r.a.createElement(Je.a,{partialVisibility:!0,onChange:function(t){e.props.animation&&e.props.animation.once&&t?!e.props.editor&&e.props.playAnimation(!0):e.props.animation&&t&&!e.props.editor&&e.props.playAnimation()},containment:this.props.select.getPageOverflowRef(),active:this.props.animation&&!this.props.disableVS},this.props.children):this.props.children}}]),n}(r.a.Component),$e={getAnimationCSS:function(e,t,n,a){console.log();var r=u.a.create({resize:{animationName:{"0%":{width:t,height:a},"100%":{width:t,height:a}},animationDuration:"99s",animationTimingFunction:"steps(99, end)"}});return{css:Object(u.b)(r.resize),style:{animationName:"".concat(r.resize._name," !important"),animationDuration:"99s",animationTimingFunction:"steps(99, end) !important"}}}},et=$e,tt=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).callOverride=function(e){var t=a.getOverrideProp(e);if(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.apply(void 0,[Object(l.a)(a)].concat(r))}return!1},a.hasOverride=function(e){return a.getOverrideProp(e)},a.init=function(){a.needRender=!0,a.children={};var e=a.getNextIndexData(0).lastZIndex,t=a.props.griddata.savedChildren;if(t){var n=Object.values(t);n.sort((function(e,t){return e.zIndex>t.zIndex?1:e.zIndex===t.zIndex?0:-1})),n.forEach((function(e){var n=e.props.id,r=a.createChildByData(e,Ee);a.children[e.props.id]={child:r,zIndex:e.zIndex},n!==e.props.id&&(delete t[n],t[e.props.id]=e)}))}else{if(a.props.griddata.savedChildren={},t=a.props.griddata.savedChildren,r.a.Children.map(a.props.children,(function(n,r){if(n){var i=Object(N.a)({},n.props),o=a.createChildByData({tagName:n.type.name?n.type.name:n.type,props:i},Ee);a.children[i.id]={child:o,zIndex:e+1},t[i.id]={tagName:n.type.name?n.type.name:n.type,props:a.getClearProps(i),zIndex:a.children[i.id].zIndex},e++}})),a.renderChild){var i=a.renderChild();if(i instanceof Array)i.forEach((function(n){if(n){var r=Object(N.a)({},n.props),i=a.createChildByData({tagName:n.type.name?n.type.name:n.type,props:r},Ee);a.children[r.id]={child:i,zIndex:e+1},t[r.id]={tagName:n.type.name?n.type.name:n.type,props:a.getClearProps(r),zIndex:a.children[r.id].zIndex},e++}}));else if(i){var o=Object(N.a)({},i.props),s=a.createChildByData({tagName:i.type.name?i.type.name:i.type,props:o},Ee);a.children[o.id]={child:s,zIndex:e+1},t[o.id]={tagName:i.type.name?i.type.name:i.type,props:a.getClearProps(o),zIndex:a.children[o.id].zIndex},e++}}if(a.props.childrenData)a.props.childrenData().forEach((function(n){if(n){var r=Object(N.a)({},n.props),i=a.createChildByData({tagName:n.tagName,props:r},Ee);a.children[r.id]={child:i,zIndex:e+1},t[r.id]={tagName:n.tagName,props:a.getClearProps(r),zIndex:a.children[r.id].zIndex},e++}}))}a.initLayout()},a.initLayout=function(){if(!a.callOverride("initLayout")){var e=a.getDefaultStyle(),t=Object(N.a)({},a.props.designStyle);a.setDesignStyle(a.getFromData("designStyle")||t,void 0,a.props.breakpointmanager.getHighestBpName()),a.setStyle(a.getFromData("style")||e,void 0,a.props.breakpointmanager.getHighestBpName()),a.setGridItemStyle(a.getFromData("gridItemStyle")||a.props.defaultGridItemStyle,a.props.breakpointmanager.getHighestBpName()),a.setGrid(a.getFromData("grid")||a.props.defaultGrid,void 0,a.props.breakpointmanager.getHighestBpName())}},a.getDefaultStyle=function(){var e=Object(N.a)(Object(N.a)({},a.props.defaultStyle),a.props.style);return"stretch"!==a.props.defaultGridItemStyle.justifySelf||!a.getFromTempData("resizable")||a.props.resizeSides&&(a.props.resizeSides.includes("w")||a.props.resizeSides.includes("e"))||(e.width="auto"),e},a.lateMounted=function(){if(a.hasOverride("lateMounted"))return a.callOverride("lateMounted");var e=a.getSize(!1,!0,!0);a.addToSnap();var t=a.getBaseDocks();a.setDocks(t.top,t.left,t.bottom,t.right,a.getFromTempData("autoDock"),a.props.breakpointmanager.getHighestBpName(),!0),console.log(a.props.id,e.height),a.props.onPageResize&&a.props.onPageResize(e.width,Object(l.a)(a),!0),a.props.onChildMounted&&a.props.onChildMounted(Object(l.a)(a))},a.getPrimaryOptions=function(){return a.props.getPrimaryOptions&&a.props.getPrimaryOptions()},a.getShortcutOptions=function(){return a.props.getShortcutOptions&&a.props.getShortcutOptions()},a.hasMiniMenu=function(){return!a.hasOverride("hasMiniMenu")||a.callOverride("hasMiniMenu")},a.addToSnap=A()((function(){if(!a.callOverride("addToSnap")){var e=a.getSize(!1);a.props.snap.addSnap(a.props.id,[{id:a.props.id,value:e.top,p1:e.left,p2:e.left+e.width},{id:a.props.id,value:e.top+e.height/2,p1:e.left,p2:e.left+e.width},{id:a.props.id,value:e.top+e.height,p1:e.left,p2:e.left+e.width}],[{id:a.props.id,value:e.left,p1:e.top,p2:e.top+e.height},{id:a.props.id,value:e.left+e.width/2,p1:e.top,p2:e.top+e.height},{id:a.props.id,value:e.left+e.width,p1:e.top,p2:e.top+e.height}],a.getParentsId()),Object.values(a.allChildRefs).forEach((function(e){e&&e.current&&e.current.addToSnap()}))}}),500),a.getParentsId=function(){for(var e=[],t=a.props.parent;t;)e.push(t.props.id),t=t.props.parent;return e},a.getGridLineSnaps=function(){var e={horizontals:[],verticals:[],id:a.props.id};a.prepareRects();for(var t=a.props.gridLine.getXlineRef(a.props.id),n=0;n<t.length;n++){var r=a.getGridLineRect(t[n],n,"x",Object(l.a)(a));r&&e.verticals.push({id:a.props.id,value:r.left+(n===t.length-1?1:0),p1:r.top,p2:r.top+r.height})}for(var i=a.props.gridLine.getYlineRef(a.props.id),o=0;o<i.length;o++){var s=a.getGridLineRect(i[o],o,"y",Object(l.a)(a));s&&e.horizontals.push({id:a.props.id,value:s.top+(o===i.length-1?1:0),p1:s.left,p2:s.left+s.width})}return[e]},a.createChildByData=function(e,t,n,i,o){if(!a.callOverride("addToSnap",e,t,n,i,o)){var s=e.tagName,c=e.props,p=g(c.griddata,a.props.breakpointmanager);n&&(c.id=n),c.id?c.id=a.props.idMan.getId(s,c.id):c.id=a.props.idMan.getId(s),p.id=c.id,c.griddata&&!n||(c.griddata=p),a.allChildRefs[c.id]=r.a.createRef();var d={};return s[0]==s[0].toUpperCase()&&(d=Object(N.a)({aglRef:a.allChildRefs[c.id],breakpointmanager:a.props.breakpointmanager,undoredo:a.props.undoredo,dragdrop:a.props.dragdrop,select:a.props.select,snap:a.props.snap,idMan:a.props.idMan,copyMan:a.props.copyMan,window:a.props.window,document:a.props.document,editorData:a.props.editorData,anchorMan:a.props.anchorMan,gridLine:a.props.gridLine,gridEditorRef:a.props.gridEditorRef,parent:Object(l.a)(a),editor:a.props.editor,onChildMounted:i,portalNodeId:o&&"".concat(a.props.id,"_fixed_holder")},a.getAllChildOverrideProps())),r.a.createElement(s[0]==s[0].toUpperCase()?t[s]:s,Object(N.a)(Object(N.a)({},c),{},{key:c.id},d))}},a.getSize=function(){var e=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;if(a.rootDivRef.current){if(a.tempSize&&!e)return m(a.tempSize);var n=t?a.rootDivRef.current.getBoundingClientRect():Xe(a.props.id,a.rootDivRef.current),r=t?a.overflowRef.current.clientWidth:Ve(a.props.id,a.overflowRef.current),i=t?a.overflowRef.current.clientHeight:_e(a.props.id,a.overflowRef.current),o={x:n.width,y:n.height,clientWidth:r,clientHeight:i,scrollLeft:a.overflowRef.current?a.overflowRef.current.scrollLeft:0,scrollTop:a.overflowRef.current?a.overflowRef.current.scrollTop:0,top:n.top,left:n.left,bottom:n.bottom,right:n.right,width:n.width,height:n.height};return a.tempSize=o,t&&(Ke(a.props.id,a.tempSize,"boundingRects"),Ke(a.props.id,r,"clientsWidth"),Ke(a.props.id,i,"clientsHeight")),o}},a.getBoundarySize=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;return a.getSize(e,t)},a.invalidateSize=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];delete a.tempSize,t&&Object.values(a.allChildRefs).forEach((function(e){e&&e.current&&e.current.invalidateSize()})),e&&a.getParentsId().forEach((function(e){var t=a.props.idMan.getItem(e);t&&t.mounted&&t.invalidateSize(!1,!1)}))},a.arrangeIndex=function(e,t){var n=a.getFromTempData("savedChildren")[e.props.id],r=n.zIndex;r||(r=0);var i=a.getNextIndexData(r);switch(t){case"forward":n.zIndex=i.nextZIndex,i.nextChild&&(i.nextChild.zIndex=r);break;case"backward":n.zIndex=i.prevZIndex,i.prevChild&&(i.prevChild.zIndex=r);break;case"front":n.zIndex=i.lastZIndex+1;break;case"back":n.zIndex=i.firstZIndex-1}a.updateLayout()},a.changeIndex=function(e,t){var n=a.getFromTempData("savedChildren"),r=n[e.props.id],i=r.zIndex;if(i!==t){i||(i=0);var o=function(e){return n.findIndex((function(t){return t.zIndex===e}))},s=i<t?-1:1;if(o(t))for(var c=i<t?o(i)||0:o(t),l=i<t?o(t):o(i)||0,p=c;p<l+1;p++){n[p].zIndex+=s}r.zIndex=t,a.updateLayout()}},a.getNextIndexData=function(e){var t=Object.values(a.getFromTempData("savedChildren")||{});t.sort((function(e,t){return e.zIndex>t.zIndex?1:e.zIndex===t.zIndex?0:-1}));for(var n={},r=0;r<t.length;r++){var i=t[r],o=i.zIndex;0===r&&(n.firstZIndex=o),r===t.length-1&&(n.lastZIndex=o),void 0===n.nextChild&&o>e?(n.nextChild=i,n.nextZIndex=o):o<e&&(n.prevChild=i,n.prevZIndex=o)}return n.nextChild||(n.nextZIndex=n.lastZIndex+1),n.prevChild||(n.prevZIndex=n.firstZIndex-1),void 0===n.lastZIndex&&(n.lastZIndex=0),n},a.updateLayout=function(e){a.callOverride("updateLayout",e)||a.forceUpdate(e)},a.isPointInclude=function(e,t,n){var r=a.getSize(!1,n);return e>=r.left&&e<=r.left+r.width&&t>=r.top&&t<=r.top+r.height},a.addChild=function(e,t,n,r,i,o,s){if(!a.callOverride("addChild",e,t,n,r,i,o)){if(!e.props.tagName&&!e.type)throw new Error("childElement must pass tagName prop to AGL or be primitive type");var c=a.getNextIndexData(0).lastZIndex,l=t?n:Object(N.a)({},e.props),p=a.createChildByData({tagName:e.props.tagName?e.props.tagName:e.type.name?e.type.name:e.type,props:a.getClearProps(l,s)},Ee,t,i,o);a.children[l.id]={child:p,zIndex:c+1},a.props.griddata.savedChildren[l.id]={tagName:e.props.tagName?e.props.tagName:e.type.name?e.type.name:e.type,props:a.getClearProps(l),zIndex:a.children[l.id].zIndex},a.updateLayout(r),a.props.onChildAdd&&a.props.onChildAdd()}},a.onBreakpointChange=function(e,t,n){if(!a.callOverride("onBreakpointChange",e,t,n)){var r=a.getCompositeFromData("style"),i=a.getCompositeFromData("designStyle"),o=a.getCompositeFromData("gridItemStyle"),s=a.getCompositeFromData("transform");a.setStyle(r,void 0,void 0,!0),a.setDesignStyle(i,void 0,void 0,!0),a.setGridItemStyle(o,void 0,!0),a.setTransformStyle(s,void 0,void 0,!0),Object.values(a.allChildRefs).forEach((function(n){n&&n.current&&n.current.onBreakpointChange(e,t)}))}},a.delete=function(e){if(!a.callOverride("delete")&&a.props.parent){if(a.props.onItemPreDelete)if(!a.props.onItemPreDelete(Object(l.a)(a)))return;if(!e){var t=a.props.id,n=a.props.parent.props.id,r=m(a.props.parent.getChildData(t));a.props.undoredo.add((function(e){e.getItem(t).delete(!0)}),(function(e){ft(e.getItem(n),r,!0)}))}a.clearItem(),a.props.parent.removeChildElement(Object(l.a)(a)),a.props.select.clearMiniMenu()}},a.getChildData=function(e){return a.props.griddata.savedChildren[e]},a.getOverrideProp=function(e){var t=Object.keys(a.props).find((function(t){return t==="".concat(e,"Override")}));return a.props[t]},a.getAllOverrideProps=function(e){var t={};return Object.keys(e||a.props).forEach((function(e){e.endsWith("Override")&&(t[e]=a.props[e])})),t},a.getAllChildOverrideProps=function(e){var t={};return Object.keys(e||a.props).forEach((function(e){e.endsWith("ChildOverride")&&(t[e.replace("ChildOverride","Override")]=a.props[e])})),t},a.clearItem=function(){a.props.idMan.removeId(a.props.id),a.props.gridLine.removeGridLine(a.props.id),a.props.snap.removeSnap(a.props.id),Object.values(a.allChildRefs).forEach((function(e){e&&e.current&&e.current.clearItem()}))},a.getClearProps=function(e,t){return delete e.breakpointmanager,delete e.undoredo,delete e.dragdrop,delete e.select,delete e.snap,delete e.idMan,delete e.copyMan,delete e.anchorMan,delete e.aglRef,delete e.parent,delete e.window,delete e.document,t||delete e.children,delete e.allChildRefs,delete e.gridLine,delete e.portalNode,delete e.gridEditorRef,delete e.onChildMounted,Object.keys(a.getAllOverrideProps(e)).forEach((function(t){delete e[t]})),e},a.removeChildElement=function(e,t){if(a.hasOverride("removeChildElement"))return a.callOverride("removeChildElement",e);delete a.children[e.props.id],delete a.allChildRefs[e.props.id],delete a.props.griddata.savedChildren[e.props.id],setTimeout((function(){a.mounted&&a.updateLayout(t)}),0)},a.hide=function(){a.setState({hide:!0})},a.show=function(){a.setState({hide:!1})},a.onMouseOver=function(e,t){if(a.props.dragdrop.getDragging()){if(a.props.dragdrop.getDragging().props.id===a.props.id)return;e.stopPropagation();var n=Xe(a.props.id,a.rootDivRef.current);if(e.clientX<n.x-1||e.clientX>n.x+n.width||e.clientY<n.y-1||e.clientY>n.y+n.height)return;a.setItemHover(!0),a.props.parent&&a.props.parent.onMouseOut&&setTimeout((function(){a.mounted&&a.props.parent.onMouseOut(e,!0)}),10),a.setMouseOver(Object(l.a)(a),{x:e.clientX,y:e.clientY},(function(e,t){e.toggleHelpLines(Object(l.a)(a))}))}else e.stopPropagation(),a.setItemHover(!0),a.setMouseOverForNonDragging(Object(l.a)(a)),a.props.parent&&a.props.parent.onMouseOut&&setTimeout((function(){a.mounted&&a.props.parent.onMouseOut(e,!0)}),10)},a.setMouseOverForNonDragging=function(){if(a.hasOverride("setMouseOverForNonDragging"))return a.callOverride("setMouseOverForNonDragging");a.props.dragdrop.setMouseOverForNonDragging(Object(l.a)(a))},a.setItemHover=function(e){e?a.props.select.updateHover(Object(l.a)(a),a.getSize(!1)):a.props.select.updateHover(Object(l.a)(a),void 0,!0)},a.onMouseEnter=function(e){a.onMouseOver(e,!0)},a.onMouseOut=function(e,t){t&&a.props.parent&&a.props.parent.onMouseOut&&a.props.parent.onMouseOut(e),a.setItemHover(!1)},a.prepareRects=function(e,t){if(a.hasOverride("prepareRects"))return a.callOverride("prepareRects",e,t);var n=a.getSize(!1,e);return!t&&a.props.gridLine.isPrepared(a.props.id)||a.props.gridLine.prepareRects(a.props.id),n},a.onChildDrop=function(e,t,n,r){if(!a.callOverride("onChildDrop",e,t,n,r)){var i,o,s,c,p=e.getSize(!1,!0),d=a.getSize(!1,!0);t?(a.prepareRects(),i=a.calculateChildGridItem(e,d.width/2-p.width/2,d.height/2-p.height/2,Object(l.a)(a),p.width,p.height,d)):i=a.calculateChildGridItem(e,p.left-d.left,p.top-d.top,Object(l.a)(a),p.width,p.height,d),o=i.gridItemStyle,s=i.coordinates,t?((c=Object(N.a)({},e.props)).griddata=m(c.griddata),a.setDataInBreakpoint("gridItemStyle",o,c.griddata,void 0,a.props.breakpointmanager.getHighestBpName()),a.setTempData("selected",!0,c.griddata),"stretch"!==o.alignSelf?a.setProps("width",p.width,s,c.griddata,void 0,a.props.breakpointmanager.getHighestBpName()):a.setProps("width","auto",void 0,c.griddata,void 0,a.props.breakpointmanager.getHighestBpName()),"auto"===e.getFromData("style").height||a.setProps("height",p.height,s,c.griddata,void 0,a.props.breakpointmanager.getHighestBpName()),a.setProps("minHeight",p.height,s,c.griddata,void 0,a.props.breakpointmanager.getHighestBpName())):("stretch"!==o.alignSelf?e.setProps("width",p.width,s,void 0,a.props.breakpointmanager.getHighestBpName()):e.setProps("width","auto",void 0,a.props.breakpointmanager.getHighestBpName()),"auto"===e.getFromData("style").height||e.setProps("height",p.height,s,void 0,a.props.breakpointmanager.getHighestBpName()),e.setProps("minHeight",p.height,s,void 0,a.props.breakpointmanager.getHighestBpName())),e.clearFromAllBp("style",void 0,a.props.breakpointmanager.getHighestBpName()),e.clearFromAllBp("gridItemStyle",void 0,a.props.breakpointmanager.getHighestBpName()),a.addChild(e,t,c,(function(){var n=a.allChildRefs[t?c.id:e.props.id].current;n.setGridItemStyle(o,a.props.breakpointmanager.getHighestBpName()),t||n.toggleHelpLines(Object(l.a)(a))}),(function(e){r&&r(e)}),n,void 0)}},a.onChildLeave=function(e,t){if(a.hasOverride("onChildLeave"))return a.callOverride("onChildLeave",e);a.removeChildElement(e,t),e.removeIdAndChildrenId()},a.removeIdAndChildrenId=function(){a.props.idMan.removeId(a.props.id),Object.values(a.allChildRefs).forEach((function(e){e&&e.current&&e.current.removeIdAndChildrenId()}))},a.nonePointerEventForChildren=function(e){Object.values(a.allChildRefs).forEach((function(t){t&&t.current&&t.current.onParentDragging(e)}))},a.onParentDragging=function(e){if(a.nonePointerEventForChildren(e),e){var t=Object(N.a)({},a.state.runtimeStyle);t.pointerEvents="none",a.setRuntimeStyle(t)}else a.setRuntimeStyle()},a.onDragStart=function(e,t,n){if(!a.callOverride("onDragStart",e,t,n)&&!a.getFromTempData("dontMove")&&!a.resizing&&a.props.parent.children[a.props.id]){a.props.parent&&a.props.parent.prepareRects(),t||a.props.dragdrop.setDragging(Object(l.a)(a)),a.nonePointerEventForChildren(!0);var r=a.getSize(!1);a.dragData={firstPos:{top:r.top,left:r.left},x:r.left,y:r.top,lastMouseX:e.clientX,lastMouseY:e.clientY};var i=Object(N.a)({},a.state.runtimeStyle);i.position="fixed",i.gridArea="auto/auto/auto/auto",i.marginBottom="auto",i.marginTop="auto",i.marginLeft="auto",i.marginRight="auto",i.width=r.width,i.height=r.height,i.minWidth="auto",i.minHeight="auto",i.opacity=.7,i.zIndex=999999,i.pointerEvents="none",i.top=r.top,i.left=r.left,a.setRuntimeStyle(i),a.draggingStart=!0,a.setDraggingState(!0,!0,void 0,i),a.props.select.updateMenu(),t&&n&&a.state.groupDragStart(e,Object(l.a)(a))}},a.setMouseOver=function(e,t,n){return a.hasOverride("setMouseOver")?a.callOverride("setMouseOver",e,t,n):a.props.dragdrop.setMouseOver(e,t,n)},a.onDrag=function(e,t,n){if(!a.callOverride("onDrag",e,t,n)&&a.props.parent.children[a.props.id])if(!a.resizing&&a.state.draggingStart){a.dragData.x+=e.clientX-a.dragData.lastMouseX,a.dragData.y+=e.clientY-a.dragData.lastMouseY,a.dragData.lastMouseX=e.clientX,a.dragData.lastMouseY=e.clientY;var r=Object(N.a)({},a.state.runtimeStyle);r.top=a.dragData.y,r.left=a.dragData.x,dt(Object(l.a)(a))||t||a.checkSnapOnDrag(r),a.setRuntimeStyle(r),a.props.select.updateResizePanes(Object(l.a)(a),r),t||a.updateGridLines(r.top,r.left,window.innerHeight-r.top-r.height,window.innerWidth-r.left-r.width,"A"),t||a.props.select.updateHelpLines(Object(l.a)(a),a.state.helpLinesParent,m(r),a.state.dragging),a.props.select.updateMiniMenu(),t&&n&&a.state.groupDrag(e,Object(l.a)(a))}else a.props.dragdrop.getDragging()&&a.props.dragdrop.setDragging()},a.updateGridLines=function(e,t,n,r,i){var o=a.getFromData("grid");a.props.gridLine.addGrid(a.props.id,o.x,o.y,i,o.gridTemplateRows,o.gridTemplateColumns,{top:e,left:t,bottom:n,right:r})},a.onDragStop=function(e,t,n){if(a.hasOverride("onDragStop"))return a.callOverride("onDragStop",e,t,n);if(!a.resizing&&a.state.draggingStart&&a.props.parent.children[a.props.id]){t&&n&&a.state.groupDragStop(e,Object(l.a)(a)),t&&a.props.parent.prepareRects();var r=a.state.runtimeStyle,i=r.top,o=r.left,s=r.width,c=r.height;if(a.props.snap.drawSnap(),a.getSize(!0,!0),!t&&a.props.dragdrop.setDraggingStop())t||(a.dropped=!0),t||a.updateGridLines(i,o,window.innerHeight-i-c,window.innerWidth-o-s,"A"),a.props.select.updateMiniMenu();else{var p=a.props.parent.getSize(!1);a.setPosition(t,o-p.left,i-p.top,a.dragData.firstPos.left-p.left,a.dragData.firstPos.top-p.top,s,c,p)}}},a.setPosition=function(e,t,n,r,i,o,s,c,p){if(!p){var d=a.props.id,u=a.props.parent.props.id,g=[e,t,n,r,i,o,s,c],h=[e,r,i,void 0,void 0,o,s,c];a.props.undoredo.add((function(e){var t;e.getItem(d).onSelect(!0),e.getItem(d).props.dragdrop.setMouseOver(e.getItem(u)),(t=e.getItem(d)).setPosition.apply(t,g.concat([!0]))}),(function(e){var t;e.getItem(d).onSelect(!0),e.getItem(d).props.dragdrop.setMouseOver(e.getItem(u)),(t=e.getItem(d)).setPosition.apply(t,h.concat([!0]))}))}if(a.hasOverride("setPosition"))return a.callOverride("setPosition",e,t,n,r,i,o,s,c,p);var m=a.calculateGridItem(t,n,a.props.parent,o,s,c),f=m.gridItemStyle,v=m.coordinates;"stretch"!==f.justifySelf?a.setProps("width",o,v,void 0,void 0,!0):a.setProps("width","auto",void 0,void 0,void 0,!0),"auto"===a.getCompositeFromData("style").height||a.setProps("height",s,v,void 0,void 0,!0),a.setProps("minHeight",s,v,void 0,void 0,!0),a.setGridItemStyle(f),a.nonePointerEventForChildren(!1),a.setRuntimeStyle();var S=n+c.top,y=t+c.left;a.setDraggingState(!1,!1,(function(){a.addToSnap()}),{top:S,left:y,width:o,height:s}),e||a.props.select.updateHelpLines(Object(l.a)(a),a.state.helpLinesParent,{top:S,left:y,width:o,height:s},a.state.dragging),a.dropped=!1,a.props.select.updateResizePanes(Object(l.a)(a),{top:S,left:y,width:o,height:s})},a.setDraggingState=function(e,t,n,r){a.setState({dragging:e,draggingStart:t},n)},a.checkSnapOnDrag=function(e){if(!a.callOverride("checkSnapOnDrag",e)){var t=a.getSnapDelta(e.top,e.left),n=a.getSnapDelta(e.top+e.height/2,e.left+e.width/2),r=a.getSnapDelta(e.top+e.height,e.left+e.width),i={deltaX:n.snapV?n.deltaX:t.snapV?t.deltaX:r.snapV?r.deltaX:0,deltaY:n.snapH?n.deltaY:t.snapH?t.deltaY:r.snapH?r.deltaY:0,snapH:n.snapH||t.snapH||r.snapH,snapV:n.snapV||t.snapV||r.snapV};e.left+=i.deltaX,e.top+=i.deltaY;var o={p1:e.left,p2:e.left+e.width},s={p1:e.top,p2:e.top+e.height};a.props.snap.drawSnap(i.snapH,i.snapV,o,s)}},a.getSnapDelta=function(e,t){var n;a.props.parent&&(n=a.resizing?a.props.parent.getGridLineSnaps():a.props.dragdrop.mouseOver&&a.props.dragdrop.mouseOver.getGridLineSnaps());var r=a.props.snap.checkSnap(e,t,a.props.id,n),i=r.snapH,o=r.snapV,s=0,c=0;return i&&(c=i.value-e),o&&(s=o.value-t),{deltaX:s,deltaY:c,snapH:i,snapV:o}},a.setDocks=function(e,t,n,r,i,o,s){if(a.setDataInBreakpoint("docks",{top:e,left:t,bottom:n,right:r},void 0,o),a.setTempData("autoDock",i),a.props.parent&&!s){a.props.parent.prepareRects();var c=a.getSize(!1),l=a.props.parent.getSize(!1),p=a.calculateGridItem(c.left-l.left,c.top-l.top,a.props.parent,c.width,c.height,l).gridItemStyle;a.setGridItemStyle(p,o)}},a.getDocks=function(){return a.getFromData("docks")},a.getBaseDocks=function(){var e=a.getCompositeFromData("gridItemStyle");return{top:"start"===e.alignSelf||"stretch"===e.alignSelf,bottom:"end"===e.alignSelf||"stretch"===e.alignSelf,left:"start"===e.justifySelf||"stretch"===e.justifySelf,right:"end"===e.justifySelf||"stretch"===e.justifySelf}},a.calculateGridItem=function(e,t,n,r,i,o,s,c){if(a.hasOverride("calculateGridItem"))return a.callOverride("calculateGridItem",e,t,n,r,i,o,s,c);if(!r){var p=a.getSize(!1,!0);r=p.width,i=p.height}o||(o=n.getSize(!1,!0));var d=a.calculateGridArea(o.left+e,o.top+t,r,i,n,o),u=d.gridArea,g=d.coordinates;dt(Object(l.a)(a))&&(u={x1:1,x2:2,y1:1,y2:2},g={cy1:o.top,cy2:o.top+o.clientHeight,cx1:o.left,cx2:o.left+o.clientWidth});var h=m(g);a.coordinateToRelative(g,o);var f=Object(N.a)({},a.state.gridItemStyle||a.props.defaultGridItemStyle);f.gridArea="".concat(u.y1,"/").concat(u.x1,"/").concat(u.y2,"/").concat(u.x2);var v=e-g.cx1+r/2,S=t-g.cy1+i/2,y=(g.cx2-g.cx1)/2*.9,b=(g.cx2-g.cx1)/2*1.1,C=a.props.gridLine.getYlineRef(n.props.id),O=u.y2===C.length||dt(Object(l.a)(a)),I=a.getFromTempData("autoDock"),D=a.getDocks()||{top:!0};I&&!c&&(v<b&&v>y?(delete D.left,delete D.right):v>b?(delete D.left,D.right=!0):(D.left=!0,delete D.right),O&&t+i>=g.cy2?(delete D.top,D.bottom=!0):(D.top=!0,delete D.bottom)),f.alignSelf="center",f.justifySelf="center";var w=v-(g.cx2-g.cx1)/2,R=S-(g.cy2-g.cy1)/2;return w>=0?(f.marginRight="".concat((2*-w/o.width*100).toString(),"%"),f.marginLeft="0%"):(f.marginRight="0%",f.marginLeft="".concat((2*w/o.width*100).toString(),"%")),f.marginTop=a.getPxOrPcOrValue("".concat((2*R).toString()),o.height,a.getUnit(f.marginTop)),f.marginBottom="0px",D.top?(f.alignSelf="start",f.marginTop=a.getPxOrPcOrValue("".concat((t-g.cy1).toString()),o.height,a.getUnit(f.marginTop))):D.bottom&&(f.marginTop="0px"),D.left?(f.justifySelf="start",f.marginLeft=a.getPxOrPcOrValue("".concat((e-g.cx1).toString()),o.width,a.getUnit(f.marginLeft))):D.right&&(f.marginLeft="0%"),D.bottom?(f.alignSelf=D.top?"stretch":"end",f.marginBottom=a.getPxOrPcOrValue("".concat((g.cy2-t-i).toString()),o.height,a.getUnit(f.marginBottom))):D.top&&(f.marginBottom="0px"),D.right?(f.justifySelf=D.left?"stretch":"end",f.marginRight=a.getPxOrPcOrValue("".concat((g.cx2-(e+r)).toString()),o.width,a.getUnit(f.marginRight))):D.left&&(f.marginRight="0%"),{gridItemStyle:f,gridArea:u,coordinates:g,coordinatesAbs:h}},a.getPxOrPcOrValue=function(e,t,n){return"px"===n?"".concat(e,"px"):"%"===n?"".concat(parseFloat(e)/t*100,"%"):e},a.calculateChildGridItem=function(e,t,n,r,i,o,s,c,p){if(a.hasOverride("calculateChildGridItem"))return a.callOverride("calculateChildGridItem",e,t,n,r,i,o,s,c,p);if(!i){var d=e.getSize(!1,!0);i=d.width,o=d.height}s||(s=r.getSize(!1,!0));var u=e.calculateGridArea(s.left+t,s.top+n,i,o,r,s),g=u.gridArea,h=u.coordinates;dt(e)&&(g={x1:1,x2:2,y1:1,y2:2},h={cy1:s.top,cy2:s.top+s.clientHeight,cx1:s.left,cx2:s.left+s.clientWidth});var f=m(h);e.coordinateToRelative(h,s);var v=Object(N.a)({},e.state.gridItemStyle||e.props.defaultGridItemStyle);v.gridArea="".concat(g.y1,"/").concat(g.x1,"/").concat(g.y2,"/").concat(g.x2);var S=t-h.cx1+i/2,y=n-h.cy1+o/2,b=(h.cx2-h.cx1)/2*.9,C=(h.cx2-h.cx1)/2*1.1,O=a.props.gridLine.getYlineRef(r.props.id),I=g.y2===O.length||dt(Object(l.a)(a)),D=a.getFromTempData("autoDock"),w=a.getDocks()||{top:!0};D&&!p&&(S<C&&S>b?(delete w.left,delete w.right):S>C?(delete w.left,w.right=!0):(w.left=!0,delete w.right),I&&n+o>=h.cy2?(delete w.top,w.bottom=!0):(w.top=!0,delete w.bottom)),v.alignSelf="center",v.justifySelf="center";var R=S-(h.cx2-h.cx1)/2,x=y-(h.cy2-h.cy1)/2;return R>0?(v.marginRight="".concat((2*-R/s.width*100).toString(),"%"),v.marginLeft="0%"):(v.marginRight="0%",v.marginLeft="".concat((2*R/s.width*100).toString(),"%")),v.marginTop=a.getPxOrPcOrValue("".concat((2*x).toString()),s.height,a.getUnit(v.marginTop)),v.marginBottom="0px",w.top?(v.alignSelf="start",v.marginTop=a.getPxOrPcOrValue("".concat((n-h.cy1).toString()),s.height,a.getUnit(v.marginTop))):w.bottom&&(v.marginTop="0px"),w.left?(v.justifySelf="start",v.marginLeft=a.getPxOrPcOrValue("".concat((t-h.cx1).toString()),s.width,a.getUnit(v.marginLeft))):w.right&&(v.marginLeft="0%"),w.bottom?(v.alignSelf=w.top?"stretch":"end",v.marginBottom=a.getPxOrPcOrValue("".concat((h.cy2-n-o).toString()),s.height,a.getUnit(v.marginBottom))):w.top&&(v.marginBottom="0px"),w.right?(v.justifySelf=w.left?"stretch":"end",v.marginRight=a.getPxOrPcOrValue("".concat((h.cx2-(t+i)).toString()),s.width,a.getUnit(v.marginRight))):w.left&&(v.marginRight="0%"),{gridItemStyle:v,gridArea:g,coordinates:h,coordinatesAbs:f}},a.coordinateToRelative=function(e,t){e.cx1-=t.left,e.cx2-=t.left,e.cy1-=t.top,e.cy2-=t.top},a.coordinateToAbsolute=function(e,t){e.cx1+=t.left,e.cx2+=t.left,e.cy1+=t.top,e.cy2+=t.top},a.getUnit=function(e){return e&&e.includes("%")?"%":"px"},a.getTopLeft=function(e){var t=a.getSize(!1,e);return{top:t.top,left:t.left}},a.pageResizeStart=function(e,t,n){if(!a.resizing){a.onSelect(!0),a.resizing=!0;var r=Object(N.a)({},a.state.runtimeStyle);r.width=a.getSize().x,r.height=a.getSize().y,a.resizeData={firstX:r.width,firstLeft:a.getSize().left,top:a.getSize().top,left:a.getSize().left},a.setRuntimeStyle(r),a.setDraggingState(!0,!1,void 0,r)}},a.onResizeStart=function(e,t,n,r){if(!a.callOverride("onResizeStart",e,t,n,r)&&!a.resizing){a.props.parent&&a.props.parent.prepareRects(),a.resizing=!0;var i=a.getSize(!1),o=Object(N.a)({},a.state.runtimeStyle);o.position="fixed",o.gridArea="auto/auto/auto/auto",o.marginBottom="auto",o.marginTop="auto",o.marginLeft="auto",o.marginRight="auto",o.width=i.width,o.height=i.height,o.minWidth="auto",o.minHeight="auto",o.opacity=.7,o.zIndex=999999,o.pointerEvents="none",o.top=i.top,o.left=i.left,a.resizeData={firstX:o.width,firstY:o.height,firstTop:o.top,firstLeft:o.left,lastWidth:o.width,lastHeight:o.height},a.setDraggingState(!0,!1,void 0,o),a.setRuntimeStyle(o),window.requestAnimationFrame(a.onResizeCalculate)}},a.pageResize=function(e,t,n){var r=Object(N.a)({},a.state.runtimeStyle),i=n.x,o=a.props.breakpointmanager.getMinWidth();t.includes("e")&&(a.resizeData.firstX<=2*-i+o&&(i=-(a.resizeData.firstX-o)/2),r.width=a.resizeData.firstX+2*i,a.resizeData.left=a.resizeData.firstLeft-i,a.resizeData.firstLeft-i<50&&(a.resizeData.left=50)),t.includes("w")&&(a.resizeData.firstX<=2*i+o&&(i=(a.resizeData.firstX-o)/2),r.width=a.resizeData.firstX-2*i,a.resizeData.left=a.resizeData.firstLeft+i,a.resizeData.firstLeft+i<50&&(a.resizeData.left=50)),a.setRuntimeStyle(r),a.updateGridLines(a.resizeData.top,a.resizeData.left,window.innerHeight-a.resizeData.top-r.height,window.innerWidth-a.resizeData.left-r.width,"A"),a.backContainerRef.current.updateAdjustments(),a.props.onPageResize&&a.props.onPageResize(r.width,Object(l.a)(a))},a.onResize=function(e,t,n,r){if(!a.callOverride("onResize",e,t,n,r)){var i=Object(N.a)({},a.state.runtimeStyle),o=a.resizeData.lastWidth,s=a.resizeData.lastHeight,c=n.y,p=n.x;t.includes("n")&&(a.resizeData.firstY<=c&&(c=a.resizeData.firstY),a.resizeData.lastHeight=a.resizeData.firstY-c,i.top=a.resizeData.firstTop+c),t.includes("s")&&(a.resizeData.firstY<=-c&&(c=-a.resizeData.firstY),a.resizeData.lastHeight=a.resizeData.firstY+c),t.includes("e")&&(a.resizeData.firstX<=-p&&(p=-a.resizeData.firstX),a.resizeData.lastWidth=a.resizeData.firstX+p),t.includes("w")&&(a.resizeData.firstX<=p&&(p=a.resizeData.firstX),a.resizeData.lastWidth=a.resizeData.firstX-p,i.left=a.resizeData.firstLeft+p);var d={top:i.top,left:i.left,width:a.resizeData.lastWidth,height:a.resizeData.lastHeight};r||a.checkSnapOnResize(d,t,a.resizeData),a.props.select.updateResizePanes(Object(l.a)(a),d),r||a.setResizeHelpData({x:e.clientX,y:e.clientY,width:(t.includes("w")||t.includes("e"))&&d.width,height:(t.includes("n")||t.includes("s"))&&d.height}),r||a.updateGridLines(d.top,d.left,window.innerHeight-d.top-d.height,window.innerWidth-d.left-d.width,"A"),a.props.select.updateHelpLines(Object(l.a)(a),a.state.helpLinesParent,d,a.state.dragging);var u=et.getAnimationCSS(o,a.resizeData.lastWidth,s,a.resizeData.lastHeight);a.props.select.updateMiniMenu(),a.resizeData.onResizeData={runtimeStyle:i,animationCss:u.css}}},a.onResizeCalculate=function(){if(!a.callOverride("onResizeCalculate")&&a.resizing)if(a.resizeData.onResizeData){var e=a.resizeData.onResizeData,t=e.runtimeStyle;e.animationCss;t.width=a.resizeData.lastWidth,t.height=a.resizeData.lastHeight,a.setRuntimeStyle(t),window.requestAnimationFrame(a.onResizeCalculate)}else window.requestAnimationFrame(a.onResizeCalculate)},a.setResizeHelpData=function(e){a.setState({resizeHelpData:e})},a.pageResizeStop=function(e,t,n){var r=a.state.runtimeStyle,i=r.width,o=r.height;a.setPageSize(a.resizeData.top,a.resizeData.left,i,o)},a.setPageSize=function(e,t,n,r){a.setProps("width",n,void 0,void 0,a.props.breakpointmanager.getHighestBpName()),a.setRuntimeStyle(),a.invalidateSize(),a.setDraggingState(!1,!1,(function(){a.addToSnap()}),{top:e,left:t,width:n,height:r}),a.resizing=!1,a.updateGridLines(e,t,window.innerHeight-e-r,window.innerWidth-t-n,"A"),a.props.select.onScrollItem(Object(l.a)(a)),a.prepareRects(),a.props.onPageResizeStop&&a.props.onPageResizeStop(n,Object(l.a)(a)),a.resizeData=void 0},a.onResizeStop=function(e,t,n,r){if(a.hasOverride("onResizeStop"))return a.callOverride("onResizeStop",e,t,n,r);a.resizing=!1,a.props.onItemPreResizeStop&&a.props.onItemPreResizeStop(Object(l.a)(a),e,t,n,a.state.runtimeStyle),a.getSize(!0,!0),r&&a.props.parent.prepareRects();var i=a.props.parent.getSize(!1),o=a.state.runtimeStyle,s=o.top,c=o.left,p=o.width,d=o.height;p=a.resizeData.lastWidth,d=a.resizeData.lastHeight,a.setSize(t,n,r,c-i.left,s-i.top,p,d,a.resizeData.firstLeft-i.left,a.resizeData.firstTop-i.top,a.resizeData.firstX,a.resizeData.firstY,i),a.props.select.updateMiniMenu()},a.setSize=function(e,t,n,r,i,o,s,c,p,d,u,g,h){if(!h){var m=a.props.id,f=[e,t,n,r,i,o,s,c,p,d,u,g],v=[e,t,n,c,p,d,u,void 0,void 0,void 0,void 0,g];a.props.undoredo.add((function(e){var t;e.getItem(m).onSelect(!0),e.getItem(m).props.dragdrop.setMouseOver(e.getItem(m).props.parent),(t=e.getItem(m)).setSize.apply(t,f.concat([!0]))}),(function(e){var t;e.getItem(m).onSelect(!0),e.getItem(m).props.dragdrop.setMouseOver(e.getItem(m).props.parent),(t=e.getItem(m)).setSize.apply(t,v.concat([!0]))}))}if(a.hasOverride("setSize"))return a.callOverride("setSize",e,t,n,r,i,s,o,c,p,d,u,g,h);var S,y,b=a.calculateGridItem(r,i,a.props.parent,o,s);S=a.props.autoConstraintsOff?a.getCompositeFromData("gridItemStyle"):b.gridItemStyle,y=b.coordinates,"stretch"!==S.justifySelf&&"auto"!==a.getCompositeFromData("style").width?a.setProps("width",o,y,void 0,void 0,!0):a.setProps("width","auto",void 0,void 0,void 0,!0),"auto"===a.getCompositeFromData("style").height||a.setProps("height",s,y,void 0,void 0,!0),"auto"!==a.getCompositeFromData("style").minHeight?a.setProps("minHeight",s,y,void 0,void 0,!0):a.setProps("minHeight","auto",y,void 0,void 0,!0),a.setGridItemStyle(S),a.setRuntimeStyle(),a.setResizeHelpData();var C=i+g.top,O=r+g.left;a.setDraggingState(!1,!1,(function(){a.addToSnap()}),{top:C,left:O,width:o,height:s}),a.props.snap.drawSnap(),n||a.updateGridLines(a.getSize(!1).top,a.getSize(!1).left,window.innerHeight-a.getSize(!1).top-s,window.innerWidth-a.getSize(!1).left-o,"A"),n||a.props.select.updateHelpLines(Object(l.a)(a),a.state.helpLinesParent,a.getSize(!1),a.state.dragging),setTimeout((function(){a.mounted&&a.props.select.onScrollItem()}),100),a.resizeData=void 0},a.checkSnapOnResize=function(e,t,n){if(!a.callOverride("checkSnapOnResize",e,t,n)){var r,i;t.includes("n")?r=a.getSnapDelta(e.top,e.left):t.includes("s")&&(r=a.getSnapDelta(e.top+e.height,e.left)),t.includes("w")?i=a.getSnapDelta(e.top,e.left):t.includes("e")&&(i=a.getSnapDelta(e.top,e.left+e.width));var o={deltaX:i?i.deltaX:0,deltaY:r?r.deltaY:0,snapH:r&&r.snapH,snapV:i&&i.snapV};t.includes("n")?(e.height-=o.deltaY,e.top+=o.deltaY):t.includes("s")&&(e.height+=o.deltaY),t.includes("w")?(e.width-=o.deltaX,e.left+=o.deltaX):t.includes("e")&&(e.width+=o.deltaX);var s={p1:e.left,p2:e.left+e.width},c={p1:e.top,p2:e.top+e.height};a.props.snap.drawSnap(o.snapH,o.snapV,s,c)}},a.setProps=function(e,t,n,r,i,o){if(a.hasOverride("setProps"))return a.callOverride("setProps",e,t,n,r,i);"width"===e||"height"===e||"minWidth"===e||"minHeight"===e||"maxWidth"===e||"maxHeight"===e?a.setNewSize(e,t,n,r,i,o):a.setDataInBreakpoint(e,t,r,i)},a.setDataInBreakpoint=function(e,t,n,r){a.props.breakpointmanager.setData(n||a.props.griddata,e,t,r),a.onPropsChange.trigger()},a.setTempData=function(e,t,n){(n||a.props.griddata)[e]=t,a.onPropsChange.trigger()},a.getFromTempData=function(e,t){return(t||a.props.griddata)[e]},a.hasDataInBreakPoint=function(e,t,n){return a.props.breakpointmanager.hasDataInBreakPoint(t||a.props.griddata,e,n)},a.getFromData=function(e,t,n){return a.props.breakpointmanager.getFromData(t||a.props.griddata,e,n)},a.getCompositeFromData=function(e,t){return a.props.breakpointmanager.getCompositeFromData(t||a.props.griddata,e,void 0)},a.setNewSize=function(e,t,n,r,i,o){if(a.hasOverride("setNewSize"))return a.callOverride("setNewSize",e,t,n,r,i);var s=a.getCompositeFromData("style",r,i),c=s&&s[e];if(!c||!a.isPercent(c)||"auto"===t||isNaN(t))return isNaN(t)||(t+="px"),void a.setStyleParam(e,t,r,i,o);var l=(t/{width:n?n.cx2-n.cx1:window.innerWidth,height:n?n.cy2-n.cy1:window.innerHeight}[a.getParentProps(e)]*100).toString()+"%";a.setStyleParam(e,l,r,i,o)},a.getParentProps=function(e){return"width"===e||"minWidth"===e||"maxWidth"===e?"width":"height"},a.isPercent=function(e){return!(!isNaN(e)||!e.includes("%"))},a.setRuntimeStyle=function(e,t){if(!a.callOverride("setRuntimeStyle",e)){var n=e&&Object(N.a)({},e);a.setState({runtimeStyle:n,animationCss:t}),a.onPropsChange.trigger()}},a.getGridItemStyleId=function(){return"style_grid_item_".concat(a.props.id)},a.setGridItemStyle=function(e,t,n){if(!a.callOverride("setGridItemStyle",e,t,n)){var r=Object(N.a)({},e);n||a.setDataInBreakpoint("gridItemStyle",r,void 0,t);var i=document.getElementById(a.getGridItemStyleId());i?b(i,a.getCompositeFromData("gridItemStyle"),a.getGridItemStyleId()):C(a.getCompositeFromData("gridItemStyle"),a.getGridItemStyleId(),a.getGridItemStyleId(),Object(l.a)(a)),a.onPropsChange.trigger()}},a.setGridArea=function(e,t){if(!a.callOverride("setGridArea",e)){var n=a.getFromData("gridItemStyle");n.gridArea=e,a.setGridItemStyle(n,t)}},a.getGridArea=function(){if(!a.callOverride("getGridArea"))return a.getCompositeFromData("gridItemStyle").gridArea},a.setStyleParam=function(e,t,n,r,i){if(a.hasOverride("setStyleParam"))return a.callOverride("setStyleParam",e,t,n,r);var o=a.hasDataInBreakPoint("style",n,r)||{};o[e]=t,void 0===t&&delete o[e],a.setStyle(o,n,r,void 0,i)},a.getStyleId=function(){return"style_".concat(a.props.id)},a.getDesignStyleId=function(){return"style_design_".concat(a.props.id)},a.setDesignStyle=function(e,t,n,r){if(!a.callOverride("setDesignStyle",e,t,n,r)){var i=Object(N.a)({},e);if(r||a.setDataInBreakpoint("designStyle",i,t,n),!t){var o=document.getElementById(a.getDesignStyleId());o?b(o,a.getCompositeFromData("designStyle"),a.getDesignStyleId()):C(a.getCompositeFromData("designStyle"),a.getDesignStyleId(),a.getDesignStyleId(),Object(l.a)(a)),a.invalidateSize(),a.addToSnap()}a.onPropsChange.trigger()}},a.getTransformStyleId=function(){return"style-transform-".concat(a.props.id)},a.setTransformStyle=function(e,t,n,r){if(!a.callOverride("setTransformStyle",e,t,n,r)){var i=Object(N.a)({},e);if(r||a.setDataInBreakpoint("transform",i,t,n),!t){var o=document.getElementById(a.getTransformStyleId());o?b(o,a.getTransformStyle(),a.getTransformStyleId()):C(a.getTransformStyle(),a.getTransformStyleId(),a.getTransformStyleId(),Object(l.a)(a))}a.onPropsChange.trigger()}},a.getTransformStyle=function(e){e||(e=a.getCompositeFromData("transform")||{});var t=[];return e.rotateDegree&&t.push("rotate(".concat(e.rotateDegree,"deg)")),{transform:t.join(" ")}},a.setStyle=function(e,t,n,r,i){if(!a.callOverride("setStyle",e,t,n,r)){var o=Object(N.a)({},e);if(r||a.setDataInBreakpoint("style",o,t,n),!t){var s=document.getElementById(a.getStyleId());s?b(s,a.getCompositeFromData("style"),a.getStyleId()):C(a.getCompositeFromData("style"),a.getStyleId(),a.getStyleId(),Object(l.a)(a)),i||(a.invalidateSize(),a.addToSnap())}a.onPropsChange.trigger()}},a.clearFromAllBp=function(e,t,n){a.props.breakpointmanager.getSortedBreakPoints().forEach((function(r){n===r.name&&n.includes(r.name)||a.setDataInBreakpoint(e,void 0,t,r.name)}))},a.setGrid=function(e,t,n){a.callOverride("setGrid",e,t,n)||(a.setDataInBreakpoint("grid",e,void 0,n),a.setState({grid:e},(function(){if(a.props.gridLine.hasGridLine(a.props.id)){var e=a.getSize(!1);a.updateGridLines(e.top,e.left,e.top+e.clientHeight,e.left+e.clientWidth,a.props.gridLine.hasGridLine(a.props.id))}t&&t()})))},a.getGridLineRect=function(e,t,n,a){if(e.current)return e.current.rect;var r=a.getSize(!1);return"x"===n?0===t?{left:r.left}:{left:r.left+r.width-1}:0===t?{top:r.top}:{top:r.top+r.height-1}},a.getGridLineOfPoint=function(e,t,n){var r,i,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4?arguments[4]:void 0;s||(s=n.getSize(!1));for(var c,l,p=a.props.gridLine.getXlineRef(n.props.id),d=0;d<p.length;d++){var u=a.getGridLineRect(p[d],d,"x",n);if(e<u.left||o&&e<=u.left){r=d,i=o?u.left:p[d-1]?(u=a.getGridLineRect(p[d-1],d-1,"x",n)).left:s.left-s.scrollLeft;break}}if(void 0===r){r=p.length;var g=a.getGridLineRect(p[p.length-1],p.length-1,"x",n);i=g.left}for(var h=a.props.gridLine.getYlineRef(n.props.id),m=0;m<h.length;m++){var f=a.getGridLineRect(h[m],m,"y",n);if(t<f.top||o&&t<=f.top){c=m,l=o?f.top:h[m-1]?(f=a.getGridLineRect(h[m-1],m-1,"y",n)).top:s.top-s.scrollTop;break}}if(void 0===c){c=h.length;var v=a.getGridLineRect(h[h.length-1],h.length-1,"y",n);l=v.top}return o&&(r++,c++),r=Math.max(1,r),r=Math.min(p.length,r),c=Math.max(1,c),c=Math.min(h.length,c),r===p.length&&i++,c===h.length&&l++,{x:r,y:c,cx:i,cy:l}},a.calculateGridArea=function(e,t,n,r,i,o){var s=a.getGridLineOfPoint(e,t,i,!1,o),c=a.getGridLineOfPoint(e+n,t+r,i,!0,o);return{gridArea:{x1:s.x,y1:s.y,x2:c.x,y2:c.y},coordinates:{cx1:s.cx,cy1:s.cy,cx2:c.cx,cy2:c.cy}}},a.onMouseDown=function(e){a.isLeftClick(e)&&(e.stopPropagation(),e.preventDefault(),a.mouseDown=!0,a.mouseMoved={deltaX:0,deltaY:0,lastClientX:e.clientX,lastClientY:e.clientY,startMillis:(new Date).getTime()},window.addEventListener("mousemove",a.onMouseMove),window.addEventListener("mouseup",a.onMouseUp))},a.isLeftClick=function(e){return 0===e.button},a.onMouseMove=function(e){if(a.mouseDown)if(a.mouseMoved.deltaX+=e.clientX-a.mouseMoved.lastClientX,a.mouseMoved.deltaY+=e.clientY-a.mouseMoved.lastClientY,a.mouseMoved.lastClientX=e.clientX,a.mouseMoved.lastClientY=e.clientY,a.moving)a.canMove()&&a.onDrag(e,ut(Object(l.a)(a)),!0);else{var t=(new Date).getTime();(Math.abs(a.mouseMoved.deltaX)>10||Math.abs(a.mouseMoved.deltaY)>10||t-a.mouseMoved.startMillis>500)&&(a.state.groupSelected||!a.getFromTempData("draggable")||a.state.selected||a.onSelect(!0),a.moving=!0,a.canMove()&&a.onDragStart(e,ut(Object(l.a)(a)),!0))}},a.canMove=function(){return(a.state.selected||a.state.groupSelected)&&a.getFromTempData("draggable")},a.onMouseUp=function(e){if(a.mouseDown){var t=(new Date).getTime();!a.moving&&t-a.mouseMoved.startMillis<500&&(a.dropped?a.dropped=!1:(e.stopPropagation(),a.onSelect(!0,void 0,void 0,!0))),a.moving&&a.canMove()&&a.onDragStop(e,ut(Object(l.a)(a)),!0),a.moving=!1,a.mouseDown=!1,window.removeEventListener("mousemove",a.onMouseMove),window.removeEventListener("mouseup",a.onMouseUp)}},a.onSelect=function(e,t,n,r){a.callOverride("onSelect",e,t,n)||a.mounted&&a.props.isSelectable&&(e&&(a.props.select.selectItem(Object(l.a)(a),r),a.toggleGridLines(e,void 0,"A"),a.props.select.updateHelpLines(Object(l.a)(a),a.state.helpLinesParent,a.getSize(!1),a.state.dragging)),a.props.parent?(e||n)&&a.props.parent.toggleGridLines(e,(function(){a.toggleHelpLines(e&&a.props.parent)}),"B"):e&&a.props.gridLine.removeGridLineByType("B"),a.setTempData("selected",e),a.mounted&&a.setState({selected:e,groupSelected:!1},(function(){e&&a.setItemHover(!0),t&&t()})))},a.toggleGridLines=function(e,t,n){if(!a.callOverride("toggleGridLines",e,t,n)&&a.mounted)if(e)if(a.props.gridLine.hasGridLine(a.props.id,n))t&&t();else{var r=a.getCompositeFromData("grid");a.props.gridLine.addGrid(a.props.id,r.x,r.y,n,r.gridTemplateRows,r.gridTemplateColumns,{top:0,left:0,bottom:0,right:0},t)}else a.props.gridLine.removeGridLine(a.props.id)},a.toggleHelpLines=function(e,t){a.callOverride("toggleHelpLines",e,t)||a.mounted&&a.setState({helpLinesParent:e!==Object(l.a)(a)&&e},t)},a.onScroll=function(e){a.callOverride("onScroll",e)||(a.props.select.updateParentsRect(),a.props.select.onScrollItem(),a.onScrollEnd(e))},a.onScrollEnd=A()((function(e){a.callOverride("onScrollEnd",e)||(a.invalidateSize(),a.addToSnap())}),500),a.editGrid=function(){a.props.gridEditorRef.current.editing(Object(l.a)(a))},a.updateGridEditor=function(){a.props.gridEditorRef.current.update(Object(l.a)(a))},a.setAnchor=function(e){a.callOverride("setAnchor",e)||(a.setTempData("anchor",e),a.updateLayout())},a.playAnimation=function(e){var t=bt(Object(l.a)(a));if(t.animation){var n={forceKey:"animationReplay",showAnimation:!0,onAnimationEnd:Me[t.animation.name].onAnimationEnd};e&&(n.disableVS=!0),a.setState(n)}},a.onAnimationEnd=function(){a.setState({forceKey:void 0,showAnimation:void 0})},a.getCompositeAnimationCss=function(e){if(e&&a.state.forceKey&&a.state.showAnimation)return Me[e.name].getAnimationCSS(Object(l.a)(a),e.options)},a.state={childContainers:[],grid:{x:1,y:1,gridTemplateRows:"1fr",gridTemplateColumns:"1fr"},portalNodeId:e.portalNodeId,windowWidth:e.breakpointmanager.getWindowWidth()},a.rootDivRef=r.a.createRef(),a.overflowRef=r.a.createRef(),a.containerRef=r.a.createRef(),a.backContainerRef=r.a.createRef(),a.allChildRefs={},a.children={},g(e.griddata,a.props.breakpointmanager),a.props.idMan.setItem(a.props.id,Object(l.a)(a)),a.onPropsChange=new We,a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.init()}},{key:"componentDidUpdate",value:function(e,t,n){var a=this;this.needRender&&(delete this.needRender,this.updateLayout((function(){a.onSelect(a.getFromTempData("selected"),a.lateMounted)})))}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=bt(this),t=H()("AwesomeGridLayoutRoot","AwesomeGridLayoutGrid",this.props.className,this.getDesignStyleId(),this.getGridItemStyleId(),this.getStyleId(),this.state.animationCss),n=(H()(this.getGridItemStyleId(),this.getStyleId()),H()("AwesomeGridLayoutHolder",this.getTransformStyleId(),this.getCompositeAnimationCss(e.animation))),a=this.state.runtimeStyle||this.getSize(!1),i=this.props.as||"div";return r.a.createElement(Ae,{nodeId:this.state.portalNodeId,disabled:!this.state.portalNodeId},r.a.createElement(qe,{animation:e.animation,editor:this.props.editor,playAnimation:this.playAnimation,select:this.props.select,disableVS:this.state.disableVS},r.a.createElement(i,{onMouseDown:this.state.showAnimation?void 0:this.onMouseDown,onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter,onMouseOut:this.onMouseOut,id:this.props.id,className:t,style:Object(N.a)(Object(N.a)({},this.state.runtimeStyle),this.canMove()&&{cursor:"move"}),ref:this.rootDivRef,key:this.props.id},this.getFromTempData("pageResize")&&!this.state.showAnimation&&r.a.createElement(Fe,{id:this.props.id,key:"".concat(this.props.id,"_resize"),sides:["e","w"],onResizeStart:this.pageResizeStart,onResize:this.pageResize,onResizeStop:this.pageResizeStop,data:this.state.runtimeStyle||a,top:this.resizeData&&this.resizeData.top||a&&a.top,left:this.resizeData&&this.resizeData.left||a&&a.left,width:this.state.runtimeStyle&&this.state.runtimeStyle.width||a&&a.width,height:this.state.runtimeStyle&&this.state.runtimeStyle.height||a&&a.height,draggingStart:this.state.draggingStart,itemId:this.props.id,document:this.props.document}),r.a.createElement(Qe,{className:n,key:this.state.forceKey||"".concat(this.props.id,"_container"),id:"".concat(this.props.id,"_child_holder"),onAnimationEnd:this.onAnimationEnd},this.props.getStaticChildren&&this.props.getStaticChildren(),r.a.createElement(Pe,{id:this.props.id,key:"".concat(this.props.id,"_container"),allChildren:this.children,grid:this.state.grid,overflowData:this.getCompositeFromData("overflowData"),showGridLines:this.state.showGridLines,aglStyle:this.getCompositeFromData("style"),overflowRef:this.overflowRef,containerRef:this.containerRef,show:this.props.griddata.isContainer,onScroll:this.onScroll,isPage:this.props.isPage,page:this.props.page,ref:this.backContainerRef,size:this.state.runtimeStyle||a,getChildrenOverride:this.props.getChildrenOverride,agl:this,modifyContainerStyleOverride:this.props.modifyContainerStyleOverride,document:this.props.document})),r.a.createElement(Be,{anchor:this.getFromTempData("anchor")}),this.state.hover&&r.a.createElement(Ae,{nodeId:"root"},r.a.createElement("div",{className:"AwesomeGridLayoutRootHover",key:"hover_".concat(this.props.id),style:{width:a?a.width:0,height:a?a.height:0,top:a?a.top:0,left:a?a.left:0}})))))}}]),n}(r.a.Component);tt.defaultProps={width:"100%",height:"100%",childSize:{w:"100%",h:"100%"},showSideResize:!1,isSelectable:!0,layoutType:"free",snap:{x:1,y:1},dir:"rtl",compactType:"vertical",defaultGrid:{x:1,y:1,gridTemplateRows:"1fr",gridTemplateColumns:"1fr"},defaultStyle:{width:"50%",height:"50%"},defaultGridItemStyle:{alignSelf:"center",justifySelf:"center",position:"relative",marginLeft:0,marginRight:0,marginTop:0,marginBottom:0,gridArea:"1/1/2/2"}};var nt=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.props.aglRef.current&&this.props.aglRef.current.props.griddata;if(t||(t=this.props.griddata),t&&t.initialized){var n=this.props.data.bpData;Object.keys(this.props.data).forEach((function(n){"bpData"!==n&&(t[n]=e.props.data[n])})),S(t.bpData.laptop,n)}else t=S(this.props.griddata,this.props.data),g(t,this.props.breakpointmanager);return r.a.createElement(tt,Object.assign({className:this.props.className},this.props,{ref:this.props.aglRef,griddata:t}))}}]),n}(r.a.Component),at=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).updateSpacers=function(e){setTimeout((function(){a.setState({spacers:e})}),0)},a.state={spacers:[]},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this;return this.state.spacers.map((function(t,n){return r.a.createElement(Ae,{nodeId:"".concat(e.props.aglRef.current.props.id,"_container"),key:n,document:e.props.document},t)}))}}]),n}(r.a.PureComponent),rt=(n(229),function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onMouseDown=function(e){var t=a.rootDivRef.current.getBoundingClientRect();a.isLeftClick(e)&&e.clientX>=t.left&&e.clientX<=t.left+t.width&&e.clientY>=t.top&&e.clientY<=t.top+t.height&&(e.stopPropagation(),a.mouseDown=!0,window.addEventListener("pointermove",a.onMouseMove),window.addEventListener("pointerup",a.onMouseUp))},a.isLeftClick=function(e){return"mouse"===e.pointerType&&0===e.button},a.onMouseMove=function(e){a.mouseDown&&(e.stopPropagation(),a.moving?a.onDrag(e):(a.moving=!0,a.onDragStart(e)))},a.onMouseUp=function(e){a.mouseDown&&(a.mouseDown=!1,a.moving?(e.stopPropagation(),a.onDragStop(e)):a.props.onClick&&a.props.onClick(e),a.moving=!1,window.removeEventListener("pointermove",a.onMouseMove),window.removeEventListener("pointerup",a.onMouseUp))},a.onDragStart=function(e){a.props.onDragStart(e)},a.onDrag=function(e){a.props.onDrag(e)},a.onDragStop=function(e){a.props.onDragStop&&a.props.onDragStop(e)},a.rootDivRef=r.a.createRef(),a}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{id:"AdjustmentMove",className:"AdjustmentMoveRoot",ref:this.rootDivRef,onPointerDown:this.onMouseDown,style:{cursor:this.props.cursor||"move"}})}}]),n}(r.a.Component)),it=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"StackSpacerResizerRoot"},r.a.createElement(rt,{onDragStart:this.props.onDragStart,onDrag:this.props.onDrag,onDragStop:this.props.onDragStop,cursor:this.props.cursor}))}}]),n}(r.a.PureComponent),ot=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).setPointerEvents=function(t){e.mounted&&e.setState({pointerEvents:t})},e.updateSpacerData=function(t){e.props.spacerData.height=t,e.props.stack.props.select.updateSize(),e.forceUpdate()},e.onClick=function(t){e.props.aglRef.current.onSelect(!0)},e.onDragStart=function(t){e.props.onDragStart&&e.props.onDragStart(t),e.dragData={lastMouseX:t.clientX,lastMouseY:t.clientY,firstHeight:e.props.spacerData.height}},e.onDrag=function(t){t.preventDefault();var n=t.clientY-e.dragData.lastMouseY,a=e.dragData.firstHeight+n;a=Math.max(0,a),e.updateSpacerData(a)},e.onDragStop=function(t){e.props.onDragStop&&e.props.onDragStop(t)},e.state={pointerEvents:"auto"},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return r.a.createElement("div",{className:"StackSpacerRoot",style:{height:"".concat(this.props.spacerData.height,"px"),order:this.props.order,pointerEvents:this.state.pointerEvents},onClick:this.onClick,onMouseOver:this.props.onMouseOver,onMouseEnter:this.props.onMouseEnter,onMouseOut:this.props.onMouseOut},r.a.createElement(it,{onDragStart:this.onDragStart,onDrag:this.onDrag,onDragStop:this.onDragStop,cursor:"ns-resize"}),this.props.aglRef.current.getSize(!1).width>150&&r.a.createElement("p",{className:"StackSpacerText"},"Spacer"),r.a.createElement("p",{className:"StackSpacerSizeText"},"".concat(this.props.spacerData.height.toFixed(0),"px")),r.a.createElement(rt,{onDragStart:this.onDragStart,onDrag:this.onDrag,onDragStop:this.onDragStop,onClick:this.onClick,cursor:"ns-resize"}))}}]),n}(r.a.PureComponent),st=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).getDefaultData=function(){return{isContainer:!0}},a.getChildrenOverride=function(e,t){return e.map((function(e,t){return e.child}))},a.lateMountedOverride=function(e){if(e.invalidateSize(),e.addToSnap(),e.onSelect(e.getFromTempData("selected")),e.props.onPageResize){var t=e.getSize(!1,!0);e.props.onPageResize(t.width,e,!0)}e.props.onChildMounted&&e.props.onChildMounted(e),a.props.lateMountedComplete&&a.props.lateMountedComplete(Object(l.a)(a)),a.setOrder()},a.calculateGridItemChildOverride=function(e,t,n,r,i,o,s,c){return a.calculateWrapper(e,t,n,r,i,o,s,c)},a.calculateChildGridItemOverride=function(e,t,n,r,i,o,s,c,l){return a.calculateWrapper(t,n,r,i,o,s,c,l)},a.calculateWrapper=function(e,t,n,r,i,o,s,c){if(!i){var l=e.getSize(!1,!0);i=l.width,o=l.height}s||(s=r.getSize(!1,!0));var p=e.calculateGridArea(s.left+t,s.top+n,i,o,r,s),d=p.gridArea,u=p.coordinates;dt(e)&&(d={x1:1,x2:2,y1:1,y2:2},u={cy1:s.top,cy2:s.top+s.clientHeight,cx1:s.left,cx2:s.left+s.clientWidth});var g=m(u);e.coordinateToRelative(u,s);var h=Object(N.a)({},e.state.gridItemStyle||e.props.defaultGridItemStyle);delete h.marginLeft,delete h.marginRight,h.gridArea="".concat(d.y1,"/").concat(d.x1,"/").concat(d.y2,"/").concat(d.x2);var f=t-u.cx1+i/2,v=(u.cx2-u.cx1)/2*.9,S=(u.cx2-u.cx1)/2*1.1,y=e.props.gridLine.getYlineRef(r.props.id);d.y2===y.length||dt(e);if("stretch"!==h.justifySelf)if(f<S&&f>v){var b=f-(u.cx2-u.cx1)/2;h.alignSelf="center",h.marginRight="0".concat(e.getUnit(h.marginRight)),h.marginLeft="".concat((2*b).toFixed(0).toString()).concat(e.getUnit(h.marginLeft))}else f>S?(h.alignSelf="flex-end",h.marginRight="".concat((u.cx2-(t+i)).toFixed(0).toString()).concat(e.getUnit(h.marginRight)),h.marginLeft="0".concat(e.getUnit(h.marginLeft))):(h.alignSelf="flex-start",h.marginRight="0".concat(e.getUnit(h.marginRight)),h.marginLeft="".concat((t-u.cx1).toFixed(0).toString()).concat(e.getUnit(h.marginLeft)));else h.marginRight="".concat((u.cx2-(t+i)).toFixed(0).toString()).concat(e.getUnit(h.marginRight)),h.marginLeft="".concat((t-u.cx1).toFixed(0).toString()).concat(e.getUnit(h.marginLeft));return delete h.justifySelf,delete h.marginTop,delete h.marginBottom,delete h.gridArea,e.setDataInBreakpoint("relativeY",n),a.setOrder(e.props.id,e,n,o,c),e.setStyleParam("height","auto"),{gridItemStyle:h,gridArea:d,coordinates:u,coordinatesAbs:g}},a.setOrder=function(e,t,n,r,i){console.log("setOrder2");var o=!1,s=!1,c=Object.values(a.aglRef.current.allChildRefs).sort((function(t,n){if(t&&t.current&&n&&n.current){t.current.props.id!==e&&n.current.props.id!==e||(o=!0);var a=t.current.getFromData("relativeY"),r=n.current.getFromData("relativeY");return a<r?-1:a===r?e===t.current.props.id?-1:e===n.current.props.id?1:0:1}return 0})),l=1,p=0,d=[],u=c.filter((function(e){return e&&e.current})).length;c.forEach((function(r,i){if(r&&r.current){if(n&&!o){var c=r.current.getFromData("relativeY");!s&&c>n&&(s=!0,t.setStyleParam("order",l),t.setDataInBreakpoint("order",l),l++)}r.current.setStyleParam("order",l),r.current.setDataInBreakpoint("order",l),r.current.setDataInBreakpoint("relativeY",p);var g=r.current.getSize(!1);p+=g.height,e===r.current.props.id&&(s=!0),l++,u>i+1&&(d[i]=a.getSpacer(i,l),p+=a.getSpacerData(i).height,l++)}})),t&&!s&&(s=!0,t.setStyleParam("order",l),t.setDataInBreakpoint("order",l),l++),a.spacerContainerRef.current.updateSpacers(d),setTimeout((function(){a.props.select.updateSize()}),0)},a.getSpacer=function(e,t){return a.allSpacerData||(a.allSpacerData=[]),a.allSpacerRef||(a.allSpacerRef=[]),a.allSpacerData[e]||(a.allSpacerData[e]={height:20}),a.allSpacerRef[e]||(a.allSpacerRef[e]=r.a.createRef()),r.a.createElement(ot,{key:e,order:t,spacerData:a.allSpacerData[e],ref:a.allSpacerRef[e],aglRef:a.aglRef,onDragStart:a.onStackDragStart,onDragStop:a.onStackDragStop,stack:Object(l.a)(a),onMouseOver:a.onMouseOverSpacer,onMouseEnter:a.onMouseEnterSpacer,onMouseOut:a.onMouseOutSpacer})},a.onStackDragStart=function(e){a.aglRef.current.setTempData("dontMove",!0)},a.onStackDragStop=function(e){a.aglRef.current.setTempData("dontMove",!1)},a.getSpacerData=function(e){return a.allSpacerData||(a.allSpacerData=[]),a.allSpacerRef||(a.allSpacerRef=[]),a.allSpacerData[e]||(a.allSpacerData[e]={height:20}),a.allSpacerData[e]},a.setMouseOverOverride=function(e,t,n,r){return a.setPointerEventOfSpacers("none"),a.props.dragdrop.setMouseOver(t,n,r)},a.setMouseOverForNonDraggingOverride=function(e){a.setPointerEventOfSpacers("auto"),e.props.dragdrop.setMouseOverForNonDragging(e)},a.setPointerEventOfSpacers=function(e){a.allSpacerRef||(a.allSpacerRef=[]),console.log("setPointerEventOfSpacers",e,a.allSpacerRef),a.allSpacerRef.forEach((function(t){console.log("setPointerEventOfSpacers",t),t&&t.current&&t.current.setPointerEvents(e)}))},a.setGridItemStyleChildOverride=function(e,t){var n=Object(N.a)({},t);delete n.gridArea,e.setDataInBreakpoint("gridItemStyle",n);var r=document.getElementById(e.getGridItemStyleId());r?b(r,n,e.getGridItemStyleId()):C(n,e.getGridItemStyleId(),e.getGridItemStyleId(),a.getAgl())},a.modifyContainerStyleOverride=function(e,t,n,r){var i;i={display:"flex",flexDirection:"column",position:"relative"};var o=document.getElementById(e.getContainerStyleId());o?b(o,i,e.getContainerStyleId()):C(i,e.getContainerStyleId(),e.getContainerStyleId(),a.getAgl())},a.onChildLeaveOverride=function(e,t){e.removeChildElement(t),t.removeIdAndChildrenId(),a.setOrder(),e.removing||1!==Object.values(e.allChildRefs).length||(e.removing=!0,setTimeout((function(){Object.values(e.allChildRefs)[0]&&a.props.dragdrop.dropItem(Object.values(e.allChildRefs)[0].current,Object.values(e.allChildRefs)[0].current.props.parent,a.props.parent,void 0,!1,2)}),0))},a.stretchChildOverride=function(e,t){if(t.props.parent){var n=!1,a=t.getFromData("gridItemStyle");lt(t,!0)||(console.log("here"),n=!0),a.alignSelf=n?"stretch":"center",a.marginLeft="0px",a.marginRight="0px",t.setStyleParam("width","100%"),n||t.setStyleParam("width","80%"),t.setGridItemStyle(a),t.props.select.onScrollItem()}},a.isStretchChildOverride=function(e,t,n){if(!t.props.parent)return!1;var a=t.getFromData("gridItemStyle");return n&&console.log(!("stretch"!==a.alignSelf||"0px"!==a.marginLeft||"0px"!==a.marginRight),a),!("stretch"!==a.alignSelf||"0px"!==a.marginLeft||"0px"!==a.marginRight)},a.setStyleParamOverride=function(e,t,n,a){if("height"!==t&&"minHeight"!==t){var r=a?e.getFromData("style",a):e.getFromData("style");r[t]=n,void 0===n&&delete r[t],e.setStyle(r,a)}},a.onMouseOverSpacer=function(e){a.aglRef.current.onMouseOver(e)},a.onMouseEnterSpacer=function(e){a.aglRef.current.onMouseEnter(e)},a.onMouseOutSpacer=function(e){a.aglRef.current.onMouseOut(e)},a.onChildAdd=function(){a.getAgl().removing=!1},a.state={spacers:[]},a.aglRef=r.a.createRef(),a.spacerContainerRef=r.a.createRef(),e.allSpacerData&&(a.allSpacerData=e.allSpacerData),a}return Object(c.a)(n,[{key:"render",value:function(){return[r.a.createElement(nt,Object.assign({tagName:"Stack",key:"Stack",aglRef:this.props.aglRef?this.aglRef=this.props.aglRef:this.aglRef},this.props,{data:this.getData(),style:Object(N.a)(Object(N.a)({},{height:"auto"}),this.props.style),getChildrenOverride:this.getChildrenOverride,isStack:!0,resizeSides:["e","w"],onDragStartChildOverride:this.onDragStartChildOverride,onDragChildOverride:this.onDragChildOverride,onDragStopChildOverride:this.onDragStopChildOverride,setGridItemStyleChildOverride:this.setGridItemStyleChildOverride,calculateGridItemChildOverride:this.calculateGridItemChildOverride,calculateChildGridItemOverride:this.calculateChildGridItemOverride,modifyContainerStyleOverride:this.modifyContainerStyleOverride,setMouseOverOverride:this.setMouseOverOverride,setMouseOverForNonDraggingOverride:this.setMouseOverForNonDraggingOverride,stretchChildOverride:this.stretchChildOverride,isStretchChildOverride:this.isStretchChildOverride,lateMountedOverride:this.lateMountedOverride,setStyleParamOverride:this.setStyleParamOverride,onChildLeaveOverride:this.onChildLeaveOverride,onChildAdd:this.onChildAdd})),r.a.createElement(at,{ref:this.spacerContainerRef,key:"spacers",aglRef:this.aglRef,document:this.props.document})]}}]),n}(ee);function ct(e,t){if(!t){var n=e.props.id,a=m(e.getFromData("gridItemStyle")),r=m(e.getFromData("style"));e.props.undoredo.add((function(e){ct(e.getItem(n),!0)}),(function(e){e.getItem(n).setGridItemStyle(a),e.getItem(n).setStyle(r),e.getItem(n).props.select.onScrollItem()}))}if(e.hasOverride("stretch"))e.callOverride("stretch",e);else if(e.props.parent){var i=!1,o=e.getFromData("gridItemStyle");if(lt(e)||(i=!0),o.alignSelf=i?"stretch":"start",o.justifySelf=i?"stretch":"center",o.marginTop="0px",o.marginLeft="0px",o.marginRight="0px",o.marginBottom="0px",e.setStyleParam("width","auto"),e.setStyleParam("height","auto"),e.setStyleParam("minHeight","unset"),!i){var s=e.props.parent.getSize();o.marginTop="".concat((s.height-.8*s.height)/2,"px"),e.setStyleParam("width","80%"),e.setStyleParam("height","auto"),e.setStyleParam("minHeight","".concat(.8*s.height,"px"))}e.setGridItemStyle(o),e.props.select.onScrollItem()}}function lt(e,t){if(e.hasOverride("isStretch"))return e.callOverride("isStretch",e,t);if(!e.props.parent)return!1;var n=e.getFromData("gridItemStyle");return!("stretch"!==n.alignSelf||"stretch"!==n.justifySelf||"0px"!==n.marginTop||"0px"!==n.marginLeft||"0px"!==n.marginRight||"0px"!==n.marginBottom)}function pt(e){return!!e.props.parent&&("section"!==e.props.as&&"header"!==e.props.as&&"footer"!==e.props.as&&!e.props.disableStretch)}function dt(e){return"page_fixed_holder"===e.state.portalNodeId}function ut(e){return e.props.select.group}function gt(e){for(var t=e.props.parent;t&&!t.props.isSection;)t=t.props.parent;return t?t.props.id:Object(L.a)()}function ht(e,t){if(e&&!(e.length<2)){var n=function(e){for(var t=e.props.parent;t&&!t.props.isSection;)t=t.props.parent;if(t)return t}(e[0]);if(n){var a,i,o=99999999,s=99999999,c=0,l=[];e.sort((function(e,t){if(e&&t){var n=e.getSize(!1).top,a=t.getSize(!1).top;return n<a?-1:n===a?0:1}return 0})),e.forEach((function(e){var t=e.getSize(!1);o=Math.min(t.top,o),s=Math.min(t.left,s),c=Math.max(t.left+t.width,c),a&&l.push({height:Math.max(0,t.top-a)}),a=t.top+t.height}));var p=r.a.createElement(st,{style:{width:"".concat(c-s,"px")},lateMountedComplete:function(e){i=e},allSpacerData:l,document:e[0].props.document}),d=n.prepareRects();n.addChild(p,void 0,void 0,void 0,(function(a){if(!t){var r=a.props.id,c=e.map((function(e){return e.props.id}));a.props.undoredo.add((function(e){var t=c.map((function(t){return e.getItem(t)}));t.forEach((function(e){e.onSelect(!0)})),ht(t,!0)}),(function(e){mt(e.getItem(r),void 0,!0)}))}a.onSelect(!0);var l=a.calculateGridItem(s-d.left,o-d.top,n,void 0,void 0,n.getSize(!1)).gridItemStyle;a.setGridItemStyle(l),a.prepareRects(),setTimeout((function(){!function e(t){var n=t.shift();n&&(n.props.parent.onChildLeave(n),a.onChildDrop(n,void 0,void 0,(function(){e(t)})))}(e=e.filter((function(e){return e.props.id!==a.props.id}))),setTimeout((function(){i.setOrder(),setTimeout((function(){var e=a.getSize(!1,!0).width,t=a.props.parent.getSize(!1).width;a.setProps("width","".concat(e/t*100,"%")),a.onSelect(!0)}),0)}),0)}),0)}))}}}function mt(e,t,n){if(e.removing=!0,e&&e.props.isStack){if(!n){var a=e.props.id;e.props.undoredo.add((function(e){mt(e.getItem(a),t,!0)}),(function(e){ht(t.map((function(t){return e.getItem(t)})),!0)}))}var r=e.props.parent;e.clearItem();var i=Object.values(e.allChildRefs).sort((function(e,t){if(e&&e.current&&t&&t.current){var n=e.current.getFromData("relativeY"),a=t.current.getFromData("relativeY");return n<a?1:n===a?0:-1}return 0}));r.onSelect(!0),r.prepareRects();!function t(n){var a=n.shift();a?setTimeout((function(){a&&a.current&&(a.current.props.parent.onChildLeave(a.current),r.onChildDrop(a.current)),t(n)}),0):setTimeout((function(){r.onChildLeave(e)}),0)}(i)}}function ft(e,t,n,a,r){t.props=m(e.getClearProps(Object(N.a)({},t.props),!0)),a&&e.setDataInBreakpoint("gridItemStyle",a,t.props.griddata,e.props.breakpointmanager.getHighestBpName()),r&&e.setDataInBreakpoint("style",r,t.props.griddata,e.props.breakpointmanager.getHighestBpName());var i=e.createChildByData(t,Ee,void 0,(function(t){if(t.onSelect(!0),!n){var i=t.props.id,o=e.props.id,s=m(e.getChildData(i));e.props.undoredo.add((function(e){ft(e.getItem(o),s,!0,a,r)}),(function(e){e.getItem(i).delete(!0)}))}}));e.children[t.props.id]={child:i,zIndex:t.zIndex},e.getFromTempData("savedChildren")[t.props.id]=t,e.updateLayout()}function vt(e,t,n,a,r){if(n){var i=t.getFromData("style",void 0,a);i=m(i);var o=m(e),s=t.props.id;t.props.undoredo.add((function(e){vt(o,e.getItem(s))}),(function(e){vt(i,e.getItem(s))}))}t.setStyle(e),r&&t.updateLayout()}function St(e,t,n,a,r,i){if(a){var o=n.getFromData("style.".concat(e),void 0,r),s=m(n.getFromData("style)")),c=n.props.id;n.props.undoredo.add((function(e){vt(s,e.getItem(c))}),(function(t){St(e,o,t.getItem(c))}))}n.setNewSize(e,t),i&&n.updateLayout()}function yt(e,t,n){var a=e.props.breakpointmanager;if(x(e.props.griddata,"design",a,a.getHighestBpName())||R(e.props.griddata,"design",{},a,a.getHighestBpName()),t){var r=x(e.props.griddata,"design",a,a.getHighestBpName());r[t]||(r[t]=n||{})}}function bt(e){var t=e.props.breakpointmanager;return j(e.props.griddata,"design",t)||R(e.props.griddata,"design",{},t,t.getHighestBpName()),j(e.props.griddata,"design",t)}var Ct=n(242),Ot=n(49),It=n.n(Ot),Dt=function e(t,n,a,i,o,c,l,p){var d=this;Object(s.a)(this,e),this.getPageOverflowRef=function(){if(d.pageAglRef.current)return d.pageAglRef.current.overflowRef.current},this.editGrid=function(e){d.getSelected()?e||(e=d.getSelected()):d.selectedItem=e,e&&e.editGrid()},this.selectItem=function(e,t){d.getSelected()||(d.selectedItem=e),d.inputManager.ctrl&&t&&gt(d.selectedItem)===gt(e)?d.createGroup(e):(d.inputManager.ctrl,d.clearGroup(),d.selectedItem.props.id!==e.props.id&&(d.selectedItem.onSelect(!1,void 0,!0),d.updateMenu()),d.updateMiniMenu(e),d.setInspector(e.props.getInspector()),d.updateResizePanes(e,e.getSize(!1)),d.selectedItem=e)},this.clearMiniMenu=function(){d.miniMenuHolderRef.current.clear()},this.updateMiniMenu=function(e){e||(e=d.getSelected()),e&&e.hasMiniMenu()?d.miniMenuHolderRef.current.addMiniMenu(e):d.clearMiniMenu()},this.updateMenu=function(e){d.miniMenuHolderRef.current.addMenu(e)},this.setInspector=function(e){d.inspectorRef.current.setMenu(e)},this.clearGroup=function(){d.group&&(d.group.forEach((function(e){e.setState({groupSelected:!1,groupDragStart:void 0,groupDrag:void 0,groupDragStop:void 0}),e.onSelect(!1,void 0,!0)})),d.group=void 0,d.updateGroupRect())},this.createGroup=function(e){var t=d.selectedItem;d.selectedItem=void 0,d.group||(d.group=[],t&&d.group.push(t)),e&&d.group.push(e),d.group.forEach((function(e){e.setState({groupSelected:!0,groupDragStart:d.groupDragStart,groupDrag:d.groupDrag,groupDragStop:d.groupDragStop})})),d.updateGroupRect(),d.clearMiniMenu(),d.updateMenu()},this.groupDragStart=function(e,t){d.group.forEach((function(n){t!==n&&n.onDragStart(e,!0)}))},this.groupDrag=function(e,t){d.group.forEach((function(n){t!==n&&n.onDrag(e,!0)})),d.updateGroupRect()},this.groupDragStop=function(e,t){d.group.forEach((function(n){t!==n&&n.onDragStop(e,!0)})),d.updateGroupRect()},this.deleteGroup=function(){d.group&&(d.group.forEach((function(e){e.delete()})),d.clearGroup())},this.updateGroupRect=function(){if(d.group){var e=d.group[0].getSize(!1,!0),t=e.top,n=e.left,a=window.innerHeight-e.top-e.height,r=window.innerWidth-e.left-e.width;d.group.slice(1,d.group.length).forEach((function(e){var i=e.getSize(!1,!0);t=Math.min(t,i.top),n=Math.min(n,i.left),a=Math.min(a,window.innerHeight-i.top-i.height),r=Math.min(r,window.innerWidth-i.left-i.width)})),d.groupSelectRef.current.updateRect({top:t,left:n,bottom:a,right:r},d.group)}else d.groupSelectRef.current.updateRect()},this.getSelected=function(){return d.selectedItem},this.updateParentsRect=v((function(){if(d.getSelected()&&d.getSelected().mounted){var e=d.getSelected();e.props.parent&&e.props.parent.prepareRects(!0,!0),e.state.helpLinesParent&&e.state.helpLinesParent!==e.props.parent&&e.state.helpLinesParent.prepareRects(!0,!0)}}),40),this.onScrollItem=v((function(){if(d.updateGroupRect(),d.getSelected()&&d.getSelected().mounted){var e=d.getSelected();e.props.parent&&e.props.parent.prepareRects(),e.state.helpLinesParent&&e.state.helpLinesParent!==e.props.parent&&e.state.helpLinesParent.prepareRects();var t=e.getSize(!1,!0);e.updateGridLines(t.top,t.left,window.innerHeight-t.top-t.height,window.innerWidth-t.left-t.width,"A"),e.updateGridEditor(),d.updateMiniMenu(),d.updateResizePanes(e,t),d.updateHelpSizeLines(e,e.state.helpLinesParent,t,e.state.dragging)}}),40),this.updateSize=v((function(){if(d.getSelected()&&d.getSelected().mounted){var e=d.getSelected(),t=e.getSize(!0,!0);d.updateResizePanes(e,t)}}),100),this.updateResizePanes=function(e,t){d.resizeRef.current.update(e,t)},this.updateHelpLines=It()((function(e,t,n,a){d.updateHelpSizeLines(e,t,n,a)}),50),this.updateHover=function(e,t,n){d.hoverRef.current.update(e,t,n)},this.updateHelpSizeLines=function(e,t,n,a){d.helpLinesRef.current&&d.helpLinesRef.current.update(e,t,n,a)},this.test1=function(){ht(d.group)},this.test2=function(){var e=d.getSelected();if(e){u.a.create({bounce:{animationName:Ct.bounce,animationDuration:"1s"}});var t=r.a.createElement(be,{style:{width:"50%",height:"auto",minHeight:"75px"},data:{bpData:{design:{fillColor:"#5cff".concat(Math.floor(89*Math.random())+10)}}}});e.addChild(t,void 0,void 0,void 0,(function(e){}),void 0,!0)}},this.test3=function(){var e=d.getSelected();e&&e.playAnimation()},this.inputManager=t,this.groupSelectRef=n,this.pageAglRef=a,this.miniMenuHolderRef=i,this.inspectorRef=o,this.resizeRef=c,this.helpLinesRef=l,this.hoverRef=p,window.addEventListener("keydown",(function(e){var t=(e=e||window.event).which||e.keyCode,n=e.ctrlKey?e.ctrlKey:17===t;71===t&&n&&(e.preventDefault(),console.log("ctrl + G"),d.editGrid()),49===t&&n&&(e.preventDefault(),console.log("ctrl + 1"),d.test1()),50===t&&n&&(e.preventDefault(),console.log("ctrl + 2"),d.test2()),51===t&&n&&(e.preventDefault(),console.log("ctrl + 3"),d.test3())}))},wt=function e(t,n){var a=this;Object(s.a)(this,e),this.addSnap=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;a.snaps[e]={horizontals:t,verticals:n,id:e,parentsId:r}},this.removeSnap=function(e){delete a.snaps[e]},this.checkSnap=function(e,t,n,r){var i,o,s=e+a.snapThreshold,c=e-a.snapThreshold,l=t+a.snapThreshold,p=t-a.snapThreshold,d=Object.values(a.snaps);d=d.concat(r);for(var u=0;u<d.length;u++){var g=d[u];if(g&&(g.id!==n&&(!g.parentsId||!g.parentsId.includes(n)))){if(!i)for(var h=0;h<g.horizontals.length;h++){var m=g.horizontals[h];if(m.value<=s&&m.value>=c){i=m;break}}if(!o)for(var f=0;f<g.verticals.length;f++){var v=g.verticals[f];if(v.value<=l&&v.value>=p){o=v;break}}if(i&&o)break}}return{snapH:i,snapV:o}},this.drawSnap=function(e,t,n,r){a.snapSvgRef.current.update(e,t,n,r)},this.snaps={},this.snapThreshold=t||10,this.snapSvgRef=n},Rt=function e(t,n,a){var r=this;Object(s.a)(this,e),this.copy=function(e){e||(e=r.selectManager.getSelected()),e&&(r.copyItem=e)},this.getCopyItem=function(){return r.copyItem},this.paste=It()((function(e){if(r.copyItem){var t;for(e||(e=r.selectManager.getSelected()||r.pageRef.current);!t;)e.getFromTempData("isContainer")?t=e:e=e.props.parent;var n=m(r.getCopyItem().getFromData("style")),a=m(r.getCopyItem().getFromData("gridItemStyle")),i=r.getCopyItem().getSize(!1),o=t.getSize(!1);t===r.getCopyItem().props.parent?(a.marginLeft&&(a.marginLeft=(parseFloat(a.marginLeft.replace("px","").replace("%",""))+20).toString()+"px"),a.marginLeft&&(a.marginTop=(parseFloat(a.marginTop.replace("px","").replace("%",""))+20).toString()+"px"),a.marginRight&&(a.marginRight=(parseFloat(a.marginRight.replace("px","").replace("%",""))-20).toString()+"px"),a.marginBottom&&(a.marginBottom=(parseFloat(a.marginBottom.replace("px","").replace("%",""))-20).toString()+"px"),a.marginLeft||a.marginRight||(a.marginLeft="20px"),a.marginTop||a.marginBottom||(a.marginTop="20px")):(delete a.marginLeft,delete a.marginTop,delete a.marginRight,delete a.marginBottom,a.justifySelf="center",a.alignSelf="center",n.width.toString().includes("%")&&(n.width=(i.width/o.width*100).toString()+"%"),n.height.toString().includes("%")&&(n.height=(i.height/o.height*100).toString()+"%")),ft(t,{props:r.getCopyItem().props,tagName:r.getCopyItem().props.tagName},void 0,a,n)}}),200),this.duplicate=function(e){e||(e=r.selectManager.getSelected()),e&&(r.copy(e),r.paste(e.props.parent),r.copyItem=!1)},this.delete=function(e){e||(e=r.selectManager.getSelected()),(e||r.selectManager.group)&&(r.selectManager.deleteGroup(),e&&e.delete())},this.selectManager=t,this.pageRef=n,this.dragdrop=a,window.addEventListener("keydown",(function(e){var t=(e=e||window.event).which||e.keyCode,n=e.ctrlKey?e.ctrlKey:17===t;86===t&&n?(console.log("ctrl + V"),r.paste()):67===t&&n?(console.log("ctrl + C"),r.copy()):68===t&&n?(e.preventDefault(),console.log("ctrl + D"),r.duplicate()):46===t&&(console.log("delete"),r.delete())}))},xt=function e(t){var n=this;Object(s.a)(this,e),this.getId=function(e,t){for(var a,r=t||n.prefix+e,i=r,o=1;!a;)n.allId[i]?(i=r+"_"+o,o++):a=i;return n.allId[i]=!0,a},this.setItem=function(e,t){n.allId[e]=t},this.getItem=function(e){return n.allId[e]},this.removeId=function(e){delete n.allId[e]},this.prefix=t+"_",this.allId={}},jt=function e(t,n,a){var r=this;Object(s.a)(this,e),this.getQueueObject=function(e,t,n){return{redo:e,undo:t,power:n}},this.add=function(e,t,n){r.undoQueue.unshift(r.getQueueObject(e,t,n)),r.undoQueue.length>r.max&&r.undoQueue.pop(),r.redoQueue=[]},this.undo=It()((function(){r.undoFunc()}),200),this.undoFunc=function(){if(0!==r.undoQueue.length){var e=r.undoQueue.shift(),t=e.power||1;for(console.log("undoFunc",t),t--,e.undo(r.idMan),r.redoQueue.unshift(e);t>0;)t--,r.undoFunc()}},this.hasUndo=function(){return r.undoQueue.length>0},this.redo=It()((function(){if(0!==r.redoQueue.length){var e=r.redoQueue.shift();e.redo(r.idMan),r.undoQueue.unshift(e)}}),100),this.hasRedo=function(){return r.redoQueue.length>0},this.undoQueue=[],this.redoQueue=[],this.max=t||20,this.idMan=a,n.addEventListener("keydown",(function(e){e.ctrlKey&&"z"===e.key&&r.undo()})),n.addEventListener("keydown",(function(e){e.ctrlKey&&"Z"===e.key&&r.redo()}))},kt=function e(t){var n=this;Object(s.a)(this,e),this.addGrid=function(e,t,a,r,i,o,s,c){n.gridContainerRef.current.addGrid(e,t,a,r,i,o,s,c)},this.getIdCache=function(e){return n.gridContainerRef.current.getIdCache(e)},this.getXlineRef=function(e){return n.gridContainerRef.current.getXlineRef(e)},this.getYlineRef=function(e){return n.gridContainerRef.current.getYlineRef(e)},this.removeGridLine=function(e){n.gridContainerRef.current.removeGridLine(e)},this.removeGridLineByType=function(e){n.gridContainerRef.current.removeGridLineByType(e)},this.prepareRects=function(e){n.gridContainerRef.current.prepareRects(e)},this.hasGridLine=function(e,t){return n.gridContainerRef.current.hasGridLine(e,t)},this.isPrepared=function(e){return n.gridContainerRef.current.isPrepared(e)},this.gridContainerRef=t},zt=n(243),Et=function e(){var t=this;Object(s.a)(this,e),this.addAnchor=function(e,n){t.allAnchors[e]={name:e,id:Object(L.a)()},n.setAnchor(t.allAnchors[e])},this.goToAnchor=function(e,n){Object(zt.goToAnchor)(t.allAnchors[e].id,n)},this.allAnchors={}},Mt=(r.a.Component,r.a.PureComponent,n(71)),Nt=n.n(Mt),Lt=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.lineRef,a=e.style;return r.a.createElement("div",{className:this.props.className,id:t,ref:n,style:a})}}]),n}(r.a.Component),Pt=(r.a.PureComponent,function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.top,n=e.left,a=e.bottom,i=e.right;return r.a.createElement("div",{id:"AdjustmentGridRoot",className:"AdjustmentGridRoot",style:{top:t,left:n,bottom:a,right:i}},this.props.children)}}]),n}(r.a.PureComponent)),At=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.gridLineManager,n=e.itemId,a=e.grid,i=t.getYlineRef(n);return r.a.createElement("div",{className:"AdjustmentGridRowEditor"},new Array(a.x).fill(0).map((function(e,t){var n=i[t].current.rect,o=i[t+1].current.rect,s=a.gridTemplateRows.split(" ")[t],c=H()("AdjustmentGridRowEditorItem",0===t&&"AdjustmentGridRowEditorItemTop",t===a.x-1&&"AdjustmentGridRowEditorItemBottom");return r.a.createElement("div",{key:"row_".concat(t),className:c,style:{height:o.top-n.top}},r.a.createElement("p",{style:{margin:0,fontWeight:"bold"}},s))})))}}]),n}(r.a.Component),Bt=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).editing=function(t){var n=t.getFromData("grid"),a=t.props.gridLine;e.setState({item:t,grid:n,gridLineManager:a})},e.update=function(t){t===t&&e.forceUpdate()},e.addRow=function(t){if(e.state.item&&100!==a.x){var n=e.state,a=n.grid,r=n.item;a.x++;var i=a.gridTemplateRows.split(" ");i.splice(t,0,"minmax(100px,max-content)"),a.gridTemplateRows=i.join(" "),r.setGrid(a),e.setState({grid:a})}},e.addColumn=function(t){if(e.state.item){var n=e.state,a=n.grid,r=n.item;if(100!==a.y){a.y++;var i=a.gridTemplateColumns.split(" ");i.splice(t,0,"1fr"),a.gridTemplateColumns=i.join(" "),r.setGrid(a),e.setState({grid:a})}}},e.changeColumnWidth=function(t,n){if(e.state.item){var a=e.state,r=a.grid,i=a.item,o=r.gridTemplateColumns.split(" ");o.splice(t,1,n),r.gridTemplateColumns=o.join(" "),i.setGrid(r),e.setState({grid:r})}},e.changeRowHeight=function(t,n){if(e.state.item){var a=e.state,r=a.grid,i=a.item,o=r.gridTemplateRows.split(" ");o.splice(t,1,n),r.gridTemplateRows=o.join(" "),i.setGrid(r),e.setState({grid:r})}},e.deleteRow=function(t){if(e.state.item){var n=e.state,a=n.grid,r=n.item;if(1!==a.x){a.x--;var i=a.gridTemplateRows.split(" ");i.splice(t,1),a.gridTemplateRows=i.join(" "),r.setGrid(a),e.setState({grid:a})}}},e.deleteColumn=function(t){if(e.state.item){var n=e.state,a=n.grid,r=n.item;if(1!==a.y){a.y--;var i=a.gridTemplateColumns.split(" ");i.splice(t,1),a.gridTemplateColumns=i.join(" "),r.setGrid(a),e.setState({grid:a})}}},e.state={item:void 0,grid:void 0,gridLineManager:void 0},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state,t=e.gridLineManager,n=e.item,a=e.grid;if(!n)return null;var i=t.getIdCache("A").positions;return r.a.createElement(Pt,{top:i.top,left:i.left,bottom:i.bottom,right:i.right},r.a.createElement(At,{gridLineManager:t,itemId:n.props.id,grid:a}))}}]),n}(r.a.PureComponent),Tt=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).update=function(e,t,n,r){a.setState({snapH:e,snapV:t,pointOfSnapH:n,pointOfSnapV:r})},a.state={},a}return Object(c.a)(n,[{key:"render",value:function(){return null}}]),n}(r.a.PureComponent),Ht=n(36),Gt=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).needUpdate=v((function(){e.forceUpdate()}),100),e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.yNo,n=e.xNo,a=e.yLineRef,i=e.xLineRef,o=e.refId;return t>=0&&n>=0&&!document.getElementById("".concat(o,"_container"))&&this.needUpdate(),r.a.createElement(r.a.Fragment,null,new Array(t+1).fill(0).map((function(e,i){return 0===i||i===t?null:r.a.createElement(Nt.a,{key:i,container:document.getElementById("".concat(o,"_container"))},r.a.createElement(Lt,{className:"AdjustmentGridLinesY",id:"y_".concat(i,"_").concat(o),lineRef:a[i],style:{top:i===t?"unset":0,bottom:i===t?0:"unset",gridArea:"".concat(i+1,"/1/").concat(i+1,"/").concat(n+1)}}))})),new Array(n+1).fill(0).map((function(e,a){return 0===a||a===n?null:r.a.createElement(Nt.a,{key:a,container:document.getElementById("".concat(o,"_container"))},r.a.createElement(Lt,{className:"AdjustmentGridLinesX",id:"x_".concat(a,"_").concat(o),lineRef:i[a],style:{left:a===n?"unset":0,right:a===n?0:"unset",gridArea:"1/".concat(a+1,"/").concat(t+1,"/").concat(a+1)}}))})))}}]),n}(r.a.PureComponent),Ft=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).fixLineRef=function(e,t,n){for(var i=0;i<=e;i++)a["xLineRef".concat(n)][i]||(a["xLineRef".concat(n)][i]=r.a.createRef());for(var o=0;o<=t;o++)a["yLineRef".concat(n)][o]||(a["yLineRef".concat(n)][o]=r.a.createRef())},a.addGrid=function(e,t,n,r,i,o,s,c){if(a.fixLineRef(n,t,r),a.idCache.A&&a.idCache.A.id===e&&"A"===r)a.updateGridLine(e,"A",{gridTemplateRows:i,gridTemplateColumns:o,positions:s,x:n,y:t},c);else if(a.idCache.B&&a.idCache.B.id===e&&"B"===r)a.updateGridLine(e,"B",{gridTemplateRows:i,gridTemplateColumns:o,positions:s,x:n,y:t},c);else{var l;a.idCache[r]={id:e,gridTemplateRows:i,gridTemplateColumns:o,positions:s,x:n,y:t},a.setState((l={},Object(Ht.a)(l,"xNo".concat(r),n),Object(Ht.a)(l,"yNo".concat(r),t),l),(function(){c&&c()}))}},a.updateGridLine=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.gridTemplateRows,o=r.gridTemplateColumns,s=r.positions,c=r.x,l=r.y,p=arguments.length>3?arguments[3]:void 0;if(!t)if(a.idCache.A&&a.idCache.A.id===e)t="A";else{if(!a.idCache.B||a.idCache.B.id!==e)return;t="B"}i&&(a.idCache[t].gridTemplateRows=i),o&&(a.idCache[t].gridTemplateColumns=o),s&&(a.idCache[t].positions=s),c&&(a.idCache[t].x=c),l&&(a.idCache[t].y=l),c||l?(c||l)&&a.setState((n={},Object(Ht.a)(n,"xNo".concat(t),c),Object(Ht.a)(n,"yNo".concat(t),l),n),p):a.setState({reload:!0},p)},a.getIdCache=function(e){return a.idCache[e]},a.getXlineRef=function(e,t){if(!t)if(a.idCache.A&&a.idCache.A.id===e)t="A";else{if(!a.idCache.B||a.idCache.B.id!==e)return;t="B"}return a["xLineRef".concat(t)].slice(0,a.idCache[t].x+1)},a.getYlineRef=function(e,t){if(!t)if(a.idCache.A&&a.idCache.A.id===e)t="A";else{if(!a.idCache.B||a.idCache.B.id!==e)return;t="B"}return a["yLineRef".concat(t)].slice(0,a.idCache[t].y+1)},a.removeGridLine=function(e,t){var n;if(!t)if(a.idCache.A&&a.idCache.A.id===e)t="A";else{if(!a.idCache.B||a.idCache.B.id!==e)return;t="B"}delete a.idCache[t],a.setState((n={},Object(Ht.a)(n,"xNo".concat(t),-1),Object(Ht.a)(n,"yNo".concat(t),-1),n))},a.hasGridLine=function(e,t){if(t){if(a.idCache[t]&&a.idCache[t].id===e)return t}else{if(a.idCache.A&&a.idCache.A.id===e)return"A";if(a.idCache.B&&a.idCache.B.id===e)return"B"}},a.isPrepared=function(e){return!(!a.idCache.A||!a.idCache.A.prepared)||(!(!a.idCache.B||!a.idCache.B.prepared)||void 0)},a.prepareRects=function(e){var t=a.getXlineRef(e);if(t)for(var n=0;n<t.length;n++){var r=t[n].current;r&&(r.rect=Xe("xLineRef_".concat(n,"_").concat(e),r))}var i=a.getYlineRef(e);if(i)for(var o=0;o<i.length;o++){var s=i[o].current;s&&(s.rect=Xe("yLineRef_".concat(o,"_").concat(e),s))}a.idCache.A&&a.idCache.A.id===e?a.idCache.A.prepared=!0:a.idCache.B&&a.idCache.B.id===e&&(a.idCache.B.prepared=!0)},a.removeGridLineByType=function(e){var t;delete a.idCache[e],a.setState((t={},Object(Ht.a)(t,"xNo".concat(e),-1),Object(Ht.a)(t,"yNo".concat(e),-1),t))},a.state={xNoA:-1,yNoA:-1,xNoB:-1,yNoB:-1},a.xLineRefA=new Array(100),a.yLineRefA=new Array(100),a.xLineRefB=new Array(100),a.yLineRefB=new Array(100),a.idCache={},a}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{id:"AdjustmentGridLinesRoot",className:"AdjustmentGridLinesRoot"},r.a.createElement(Gt,{id:"GridLinesContainer_A",refId:this.idCache.A&&this.idCache.A.id,xNo:this.state.xNoA,yNo:this.state.yNoA,xLineRef:this.xLineRefA,yLineRef:this.yLineRefA,gridTemplateRows:this.idCache.A&&this.idCache.A.gridTemplateRows,gridTemplateColumns:this.idCache.A&&this.idCache.A.gridTemplateColumns,top:this.idCache.A&&this.idCache.A.positions.top,bottom:this.idCache.A&&this.idCache.A.positions.bottom,left:this.idCache.A&&this.idCache.A.positions.left,right:this.idCache.A&&this.idCache.A.positions.right,document:this.props.document}),r.a.createElement(Gt,{id:"GridLinesContainer_B",refId:this.idCache.B&&this.idCache.B.id,xNo:this.state.xNoB,yNo:this.state.yNoB,xLineRef:this.xLineRefB,yLineRef:this.yLineRefB,gridTemplateRows:this.idCache.B&&this.idCache.B.gridTemplateRows,gridTemplateColumns:this.idCache.B&&this.idCache.B.gridTemplateColumns,top:this.idCache.B&&this.idCache.B.positions.top,bottom:this.idCache.B&&this.idCache.B.positions.bottom,left:this.idCache.B&&this.idCache.B.positions.left,right:this.idCache.B&&this.idCache.B.positions.right,document:this.props.document}))}}]),n}(r.a.Component),Wt=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).updateRect=function(e,t){a.setState({rect:e,group:t})},a.onResizeStart=function(e,t,n){if(!a.resizing){a.resizing=!0,a.setState({draggingStart:!0}),a.state.group.forEach((function(a){a.onResizeStart(e,t,n,!0)}));var r=a.state.rect;a.resizeData={firstX:window.innerWidth-r.left-r.right,firstY:window.innerHeight-r.top-r.bottom,firstTop:r.top,firstLeft:r.left}}},a.onResize=function(e,t,n){a.state.group.forEach((function(a){a.onResize(e,t,n,!0)}));var r=m(a.state.rect);delete r.height,delete r.width;var i=n.y,o=n.x;t.includes("n")&&(a.resizeData.firstY<=i&&(i=a.resizeData.firstY),r.height=a.resizeData.firstY-i,r.top=a.resizeData.firstTop+i),t.includes("s")&&(a.resizeData.firstY<=-i&&(i=-a.resizeData.firstY),r.height=a.resizeData.firstY+i),t.includes("e")&&(a.resizeData.firstX<=-o&&(o=-a.resizeData.firstX),r.width=a.resizeData.firstX+o),t.includes("w")&&(a.resizeData.firstX<=o&&(o=a.resizeData.firstX),r.width=a.resizeData.firstX-o,r.left=a.resizeData.firstLeft+o),r.height&&(r.bottom=window.innerWidth-r.top-r.height),r.width&&(r.right=window.innerWidth-r.left-r.width),a.setState({rect:r})},a.onResizeStop=function(e,t,n){a.state.group.forEach((function(a){a.onResizeStop(e,t,n,!0)})),a.resizing=!1,a.setState({draggingStart:!1})},a.onDragStart=function(e){a.state.group.forEach((function(t){t.onDragStart(e,!0)})),a.setState({draggingStart:!1});var t=a.state.rect;a.dragData={x:t.left,y:t.top,lastMouseX:e.clientX,lastMouseY:e.clientY}},a.onDrag=function(e){a.state.group.forEach((function(t){t.onDrag(e,!0)})),a.setState({draggingStart:!1});var t=e.clientX-a.dragData.lastMouseX,n=e.clientY-a.dragData.lastMouseY;a.dragData.x+=t,a.dragData.y+=n,a.dragData.lastMouseX=e.clientX,a.dragData.lastMouseY=e.clientY;var r=m(a.state.rect);r.top=a.dragData.y,r.left=a.dragData.x,r.right-=t,r.bottom-=n,a.setState({rect:r})},a.onDragStop=function(e){a.state.group.forEach((function(t){t.onDragStop(e,!0)})),a.setState({draggingStart:!1})},a.state={rect:void 0,group:void 0,draggingStart:!1},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.state.rect;return t?r.a.createElement("div",{id:"AdjustmentGroupRect",style:t,className:"AdjustmentResizeRoot"},["n","s","e","w","ne","nw","se","sw"].map((function(t,n){return r.a.createElement(Te,{key:n,side:t,onResizeStart:e.onResizeStart,onResize:e.onResize,onResizeStop:e.onResizeStop,draggingStart:e.state.draggingStart})}))):null}}]),n}(r.a.Component),Ut=(n(232),r.a.Component,r.a.Component,r.a.Component,function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this)).update=function(e,t,n){a.setState({itemId:e,shortcut:t,primary:n})},a.state={},console.log("MiniMenu constructor"),a}return Object(c.a)(n,[{key:"render",value:function(){return null}}]),n}(r.a.PureComponent)),Yt=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).clear=function(){a.setState({miniMenuItem:void 0})},a.addMiniMenu=function(e){e?a.miniMenuRef.current.update(e.props.id,e.getShortcutOptions()||[],e.getPrimaryOptions()||[]):a.miniMenuRef.current.update()},a.addMenu=function(e){a.setState({menu:void 0}),e&&setTimeout((function(){a.setState({menu:e})}),0)},a.state={},a.miniMenuRef=r.a.createRef(),a}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{id:"wl_menu_holder",key:"wl_menu_holder",className:"MenuHolderRoot"},r.a.createElement(Ut,{key:"miniMenu",ref:this.miniMenuRef}),this.state.menu)}}]),n}(r.a.Component),Xt=(n(658),function e(t,n,a){var r=this;Object(s.a)(this,e),this.processIncomingMessage=function(e){var t;try{t=JSON.parse(e.data)}catch(o){return void console.error("IFrameCommunicator: must receive json data")}if(t&&t.r){var n=t.r;r.callbacks[n](t),delete r.callbacks[n]}else{var a=function(){};if(t&&t.c){var i=t.c;a=r.responses[i]=function(e){e.r=i,r.post(e)}}r.onMessage(e,a)}},this.post=function(e,t){t&&(r.counter++,e.c=r.counter,r.callbacks[e.c]=t),r.otherWindow.postMessage(JSON.stringify(e),r.origin||"*")},this.onMessage=a,this.origin=t,this.otherWindow=n,this.counter=0,this.callbacks={},this.responses={},window.addEventListener("message",(function(e){e.origin===r.origin&&r.processIncomingMessage(e)}))}),Vt=n(244),_t=function e(t,n,a){var r=this;Object(s.a)(this,e),this.changeBreakpoint=function(e){if(r.breakpointmanager.current()!==e){var t=r.breakpointmanager.getBpData(e);if(t){var n=Math.min(parseInt((1.1*t.start).toFixed(0)),t.end),a=(r.editorData.innerWidth-n)/2;a<50&&(a=50);var i=r.pageRef.current.getSize(!1).top,o=r.pageRef.current.getSize(!1).height;r.pageRef.current.setSize(i,a,n,o)}}},this.changeWidth=function(e){var t=(r.editorData.innerWidth-e)/2;t<50&&(t=50);var n=r.pageRef.current.getSize(!1).top,a=r.pageRef.current.getSize(!1).height;r.pageRef.current.setSize(n,t,e,a)},this.updateBreakpoint=function(e,t,n){r.breakpointmanager.updateBreakpoint(e,t,n)},this.deleteBreakpoint=function(e){r.breakpointmanager.deleteBreakpoint(e)},this.breakpointmanager=t,this.editorData=n,this.pageRef=a},Kt={},Qt={};Kt.onMessage=function(e,t,n){Qt[e.func]&&t(Qt[e.func].apply(Qt,Object(Vt.a)(e.inputs).concat([n])))},Qt.getItemGridData=function(e,t){return t.idMan.getItem(e).props.griddata},Qt.getLayout=function(e){var t={id:e.rootLayoutRef.current.props.id,griddata:e.rootLayoutRef.current.props.griddata,children:[]};return function e(t,n){n[t.props.id]={id:t.props.id,griddata:t.props.griddata,children:[]},Object.values(t.allChildRefs).forEach((function(a){a&&a.current&&e(a.current,n[t.props.id].children)}))}(e.rootLayoutRef.current,t.children),t},Qt.getBreakpointsData=function(e,t){var n=t.idMan.getItem(e);return{breakpoints:n.props.breakpointmanager.breakpoints,currentWidth:n.props.breakpointmanager.lastWidth}},Qt.changePage=function(e,t){return t.onPageChange(e),!0},Qt.addItem=function(e,t,n,a,r){return ft(r.idMan.getItem(e),t,!1,n,a),!0},Qt.breakpointManagerMethod=function(e,t,n){return new _t(n.breakpointmanager,n.editorData,n.rootLayoutRef)[e](t),n.breakpointmanager.breakpoints},Qt.undoRedoMethod=function(e,t,n){return n.undoredo[e](t),!0},Qt.togglePreview=function(e,t){return t.togglePreview(e),!0},Qt.setZoomLevel=function(e,t){return t.setZoomLevel(e),!0},Qt.setDataInBackground=function(e,t,n,a){var r=a.idMan.getItem(e);return function e(t,n,a,r,i){if(r){var o=a.getFromData(t,void 0,i);o=m(o);var s=m(n),c=a.props.id;a.props.undoredo.add((function(n){e(t,s,n.getItem(c),!1,i)}),(function(n){e(t,o,n.getItem(c),!1,i)}))}a.setDataInBreakpoint(t,n,void 0,i)}(t,n,r,!0),r.props.griddata};var Zt=Kt,Jt=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).open=function(){a.opening=!0,clearInterval(a.closeInterval),clearInterval(a.openInterval),a.openInterval=setInterval((function(){if(a.mounted){var e=a.state.percent+=a.props.speed*a.props.interval/1e3;e>100&&(a.opening=!1,clearInterval(a.openInterval)),e=Math.min(100,e),a.setState({percent:e,open:100===e})}else clearInterval(a.openInterval)}),a.props.interval)},a.close=function(){a.closing=!0,clearInterval(a.closeInterval),clearInterval(a.openInterval),a.closeInterval=setInterval((function(){if(a.mounted){var e=a.state.percent-=a.props.speed*a.props.interval/1e3;e<0&&(a.closing=!1,clearInterval(a.closeInterval)),e=Math.max(0,e),a.setState({percent:e,open:0!==e})}else clearInterval(a.closeInterval)}),a.props.interval)},a.setMenu=function(e){a.setState({inspectorMenu:e})},a.getDefaultMenu=function(){return r.a.createElement("div",{className:"InspectorDefaultMenuRoot"},r.a.createElement("span",null,"Select a component to show options"))},a.state={percent:e.open?100:0,inspectorMenu:void 0},a.opening=!1,a.closing=!1,a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){return null}}]),n}(r.a.Component);Jt.defaultProps={open:!1,speed:400,interval:5};var qt=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),a=t.call(this,e),console.log("AdjustmentResize constructor"),a}return Object(c.a)(n,[{key:"shouldComponentUpdate",value:function(e,t,n){return!f(e.data,this.data)||!f(e,this.props)}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.allowStretch,i=t.idMan,o=t.itemId,s=t.isStretch,c=t.draggingStart;t.transform;this.data=m(n);var l={};return a||(l.display="none"),r.a.createElement("div",{id:"AdjustmentResize",style:{width:n.width,height:n.height,top:n.top,left:n.left},className:"AdjustmentResizeRoot"},!s&&["s","n","e","w","se","ne","sw","nw"].map((function(t,n){return console.log(JSON.stringify(e.props.sides)),r.a.createElement(Te,{style:{display:e.props.sides.includes(t)?"unset":"none"},key:n,side:t,onResizeStart:e.props.onResizeStart,onResize:e.props.onResize,onResizeStop:e.props.onResizeStop,draggingStart:c})})),r.a.createElement(He,{style:l,isStretch:s,idMan:i,itemId:o}))}}]),n}(r.a.Component),$t=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).update=function(e,t){a.setState({item:e,data:t})},a.state={},a}return Object(c.a)(n,[{key:"render",value:function(){if(!this.state.item)return null;var e=this.state,t=e.item,n=e.data;return r.a.createElement(r.a.Fragment,null,t.getFromTempData("resizable")&&!t.state.showAnimation&&!ut(t)&&r.a.createElement(qt,{id:t.props.id,key:"resize",sides:t.props.resizeSides||["n","s","e","w","ne","nw","se","sw"],onResizeStart:t.onResizeStart,onResize:t.onResize,onResizeStop:t.onResizeStop,draggingStart:t.state.draggingStart,isStretch:lt(t),allowStretch:pt(t),itemId:t.props.id,idMan:t.props.idMan,transform:t.getCompositeFromData("style").transform,data:n}))}}]),n}(r.a.Component),en=(r.a.Component,function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).update=function(e,t,n,r){a.setState({item:e,itemRect:n,dragging:r})},a.state={},a}return Object(c.a)(n,[{key:"render",value:function(){return null}}]),n}(r.a.Component)),tn=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).update=function(e,t,n){n?a.state.itemId===e.props.id&&a.setState({item:e,size:t,itemId:void 0}):e.state.selected?a.setState({item:e,size:t,itemId:void 0}):a.setState({item:e,size:t,itemId:e.props.id})},a.state={},a}return Object(c.a)(n,[{key:"render",value:function(){return null}}]),n}(r.a.Component),nn=function(e){Object(p.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).init=function(e){a.rootLayoutRef=r.a.createRef(),a.snapSvgRef=r.a.createRef(),a.gridContainerRef=r.a.createRef(),a.gridEditorRef=r.a.createRef(),a.groupSelectRef=r.a.createRef(),a.miniMenuHolderRef=r.a.createRef(),a.resizeRef=r.a.createRef(),a.helpLinesRef=r.a.createRef(),a.inspectorRef=r.a.createRef(),a.hoverRef=r.a.createRef(),a.editorData={innerWidth:window.innerWidth,innerHeight:window.innerHeight,inspectorWidth:300,inspectorPinned:!1},a.breakpointmanager=new w(void 0,a.editorData,void 0,a.onZoomLevelChange),a.dragdrop=new E,a.inputManager=new M,a.select=new Dt(a.inputManager,a.groupSelectRef,a.rootLayoutRef,a.miniMenuHolderRef,a.inspectorRef,a.resizeRef,a.helpLinesRef,a.hoverRef),a.snap=new wt(5,a.snapSvgRef),a.copyMan=new Rt(a.select,a.rootLayoutRef),a.idMan=new xt("comp"),a.undoredo=new jt(100,document,a.idMan),a.gridLine=new kt(a.gridContainerRef),a.anchorMan=new Et,ze.ContainerBase=be,ze.PageBase=De,ze.Header=Ce,ze.Footer=Oe,ze.Section=Ie,ze.Stack=st,ze.VerticalSpacer=we,Me.fadeIn=xe,Me.rotate=ke,a.iFrameCommunicator=new Xt("test",window.parent,a.onMessage),window.addEventListener("keydown",(function(e){var t=(e=e||window.event).which||e.keyCode,n=e.ctrlKey?e.ctrlKey:17===t;80===t&&n&&(e.preventDefault(),console.log("ctrl + P"),a.pinInspector()),76===t&&n&&(e.preventDefault(),console.log("ctrl + L"),a.openInspector()),79===t&&n&&(e.preventDefault(),console.log("ctrl + O"),a.closeInspector())}))},a.onMessage=function(e,t){Zt.onMessage(e,t,Object(l.a)(a))},a.postMessage=function(e,t){a.iFrameCommunicator.post(e,t)},a.onSiteDataUpdated=function(e){a.setState({siteData:e})},a.onPageChange=function(e){a.setState({pageId:e})},a.togglePreview=function(e){a.setState({preview:e})},a.setZoomLevel=function(e){a.setState({zoomLevel:e||100})},a.onBreakpointChange=function(e,t,n){a.rootLayoutRef.current&&(e=a.rootLayoutRef.current.getSize(!1).width),a.onPageResize(e,a.rootLayoutRef.current)},a.notifyBreakpointChange=function(e,t,n){a.rootLayoutRef.current.onBreakpointChange(e,t,n)},a.onZoomLevelChange=function(e){a.select.onScrollItem(),a.rootLayoutRef.current.getSize(!0,!0)},a.openInspector=function(){a.inspectorRef.current.open()},a.pinInspector=function(){var e=a.select.getSelected();a.rootLayoutRef.current.props.aglRef.current.onSelect(!0),a.editorData.inspectorPinned=!a.state.inspectorPinned,a.editorData.innerWidth=window.innerWidth-a.editorData.inspectorPinned?a.editorData.inspectorWidth:0,a.setState({inspectorPinned:a.editorData.inspectorPinned},(function(){a.select.onScrollItem(),setTimeout((function(){e&&e.onSelect(!0)}),0)}))},a.closeInspector=function(){a.inspectorRef.current.close()},a.onPageResize=function(e,t,n){var r=a.breakpointmanager.checkBreakPointChange(e);a.breakpointmanager.setWindowWidth(e),(r.changed||n)&&(console.log("onBreakpointChange",e,r.currentBreakpointName),a.notifyBreakpointChange(e,r.currentBreakpointName,a.breakpointmanager.getDevicePixelRatio()))},a.state={editorScale:1,inspectorPinned:!1},a.init(e),a}return Object(c.a)(n,[{key:"componentWillUnmount",value:function(){this.breakpointmanager.dispose()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Bt,{ref:this.gridEditorRef}),r.a.createElement(Tt,{ref:this.snapSvgRef}),r.a.createElement(Ft,{ref:this.gridContainerRef}),r.a.createElement(Wt,{ref:this.groupSelectRef}),r.a.createElement(Yt,{ref:this.miniMenuHolderRef}),r.a.createElement("div",{className:"EditorBoundaryPageHolder",style:{padding:"0 50px"}},r.a.createElement(De,{id:"page",aglRef:this.rootLayoutRef,breakpointmanager:this.breakpointmanager,undoredo:this.undoredo,dragdrop:this.dragdrop,select:this.select,snap:this.snap,idMan:this.idMan,gridLine:this.gridLine,gridEditorRef:this.gridEditorRef,anchorMan:this.anchorMan,copyMan:this.copyMan,editorData:this.editorData,onPageResize:this.onPageResize,editor:!0,devicePixelRatio:this.state.devicePixelRatio,inspectorPinned:this.state.inspectorPinned})),r.a.createElement(tn,{ref:this.hoverRef}),r.a.createElement(en,{ref:this.helpLinesRef}),r.a.createElement($t,{ref:this.resizeRef}),r.a.createElement(Jt,{ref:this.inspectorRef,inspectorPinned:this.state.inspectorPinned}))}}]),n}(r.a.Component);o.a.render(r.a.createElement(nn,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},73:function(e,t,n){},74:function(e,t,n){},78:function(e,t,n){e.exports=n.p+"static/media/paint.b4611be4.svg"},84:function(e,t,n){},85:function(e,t,n){}},[[249,1,2]]]);
//# sourceMappingURL=main.dc5998f3.chunk.js.map